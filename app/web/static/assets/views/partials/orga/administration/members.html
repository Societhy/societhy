<div id="MemberTable">
  <h2>Current Members</h2>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
	<th>Name</th>
	<th>Current Job</th>
	<th ng-if="currentRights.edit_jobs" ><i class="fa fa-arrow-right" aria-hidden="true"></i> New Job</th>
	<th>Status</th>
	<th>View Hitoric</th>
	<th ng-if="currentRights.remove_members && currentRights.edit_rights" >Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="(addr, data) in currentOrga.members">
	<td>{{data.name}}</td>
	<td>{{data.tag}}</td>
	<td ng-if="currentRights.edit_jobs">
	  <select class="cs-select cs-skin-elastic" id="memberTag_{{addr}}" ng-model="members.tmp[addr]" ng-change="admin.members.tagChanged(addr)">
	    <option ng-repeat="(name, job) in currentOrga.rights" ng-if="name.toLowerCase() != data.tag.toLowerCase()" value="{{name}}" {{(currentOrga.members[addr].tag != name) ? '': 'selected'}} >{{name}}</option>
	  </select>
	</td>
	<td>active</td>
	<td>
	  <button type="button" class="btn-xs btn-blue btn-wide btn-scroll btn-scroll-top ti-pen" ng-click="">
            <span>View History</span>
          </button>
	</td>
	<td ng-if="currentRights.remove_members">
	  <button type="button" class="btn-xs btn-danger btn-wide btn-scroll btn-scroll-top ti-pen" ng-click="removeMember(user.name, user._id)">
            <span>Delete</span>
          </button>
	  <button  ng-if="currentRights.edit_jobs" type="button" class="btn-xs btn-info btn-wide btn-scroll btn-scroll-top ti-pen" val="{{addr}}" disabled ng-click="admin.members.saveChangedTag(addr)">
            <span>Edit Job</span>
          </button>
	</td>      
      </tr>
    </tbody>
  </table>
</div>
<div class="col-md-12 inline-block">
  <h2>Add Members</h2>

  <form class="form-inline padding-bottom-20" role="form" ng-submit="addInvitedUser()">
    <div class="form-group col-md-12  align-center text-center">
      <angucomplete-alt id="ex2"
                        placeholder="Search for existing users or invite new ones"
                        pause="300"
                        selected-object="selected_user"
                        title-field="name"
                        remote-url='/searchFor/'
                        description-field="_id"
                        minlength="1"
                        input-class="form-control"
                        match-class="highlight"
                        input-changed=""/>
    </div>
  </form>
  <div class="col-md-12">
    <div class="table min-height-300">
      <table class="table">
        <thead>
          <tr>
            <th>Name</th>
            <th>Tag</th>
            <th>Rights</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-bold text-large">{{user.name}} </td>
            <td>
              <select class="cs-select cs-skin-elastic" ng-options="label for label in governance_types[orga_form.gov_model]['tags']" ng-model="orga_form.invited_users[user._id]['tag']" ng-change="tagChangedForUser(user._id)">
              </select>
            </td>
            <td>
              <button type="button" class="btn btn-blue btn-wide btn-scroll btn-scroll-top ti-pen" ng-click="editRights(user.name, user._id)">
                <span>Edit Rights</span>
              </button>
            </td>
            <td>
              <button type="button" class="btn btn-red btn-wide btn-scroll btn-scroll-top ti-trash" ng-click="removeRow(user._id)">
                <span>Remove</span>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
