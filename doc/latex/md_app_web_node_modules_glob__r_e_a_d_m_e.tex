This is a glob implementation in Java\+Script. It uses the {\ttfamily minimatch} library to do its matching.

\subsection*{Attention\+: node-\/glob users!}

The A\+PI has changed dramatically between 2.\+x and 3.\+x. This library is now 100\% Java\+Script, and the integer flags have been replaced with an options object.

Also, there\textquotesingle{}s an event emitter class, proper tests, and all the other things you\textquotesingle{}ve come to expect from node modules.

And best of all, no compilation!

\subsection*{Usage}


\begin{DoxyCode}
var glob = require("glob")

// options is optional
glob("**/*.js", options, function (er, files) \{
  // files is an array of filenames.
  // If the `nonull` option is set, and nothing
  // was found, then files is ["**/*.js"]
  // er is an error object or null.
\})
\end{DoxyCode}


\subsection*{Features}

Please see the \href{https://github.com/isaacs/minimatch}{\tt minimatch documentation} for more details.

Supports these glob features\+:


\begin{DoxyItemize}
\item Brace Expansion
\item Extended glob matching
\item \char`\"{}\+Globstar\char`\"{} {\ttfamily $\ast$$\ast$} matching
\end{DoxyItemize}

See\+:


\begin{DoxyItemize}
\item {\ttfamily man sh}
\item {\ttfamily man bash}
\item {\ttfamily man 3 fnmatch}
\item {\ttfamily man 5 gitignore}
\item \href{https://github.com/isaacs/minimatch}{\tt minimatch documentation}
\end{DoxyItemize}

\subsection*{glob(pattern, \mbox{[}options\mbox{]}, cb)}


\begin{DoxyItemize}
\item {\ttfamily pattern} \{String\} Pattern to be matched
\item {\ttfamily options} \{Object\}
\item {\ttfamily cb} \{Function\}
\begin{DoxyItemize}
\item {\ttfamily err} \{Error $\vert$ null\}
\item {\ttfamily matches} \{Array$<$\+String$>$\} filenames found matching the pattern
\end{DoxyItemize}
\end{DoxyItemize}

Perform an asynchronous glob search.

\subsection*{glob.\+sync(pattern, \mbox{[}options\mbox{]}}


\begin{DoxyItemize}
\item {\ttfamily pattern} \{String\} Pattern to be matched
\item {\ttfamily options} \{Object\}
\item return\+: \{Array$<$\+String$>$\} filenames found matching the pattern
\end{DoxyItemize}

Perform a synchronous glob search.

\subsection*{Class\+: glob.\+Glob}

Create a Glob object by instanting the {\ttfamily glob.\+Glob} class.


\begin{DoxyCode}
var Glob = require("glob").Glob
var mg = new Glob(pattern, options, cb)
\end{DoxyCode}


It\textquotesingle{}s an Event\+Emitter, and starts walking the filesystem to find matches immediately.

\subsubsection*{new glob.\+Glob(pattern, \mbox{[}options\mbox{]}, \mbox{[}cb\mbox{]})}


\begin{DoxyItemize}
\item {\ttfamily pattern} \{String\} pattern to search for
\item {\ttfamily options} \{Object\}
\item {\ttfamily cb} \{Function\} Called when an error occurs, or matches are found
\begin{DoxyItemize}
\item {\ttfamily err} \{Error $\vert$ null\}
\item {\ttfamily matches} \{Array$<$\+String$>$\} filenames found matching the pattern
\end{DoxyItemize}
\end{DoxyItemize}

Note that if the {\ttfamily sync} flag is set in the options, then matches will be immediately available on the {\ttfamily g.\+found} member.

\subsubsection*{Properties}


\begin{DoxyItemize}
\item {\ttfamily minimatch} The minimatch object that the glob uses.
\item {\ttfamily options} The options object passed in.
\item {\ttfamily error} The error encountered. When an error is encountered, the glob object is in an undefined state, and should be discarded.
\item {\ttfamily aborted} Boolean which is set to true when calling {\ttfamily abort()}. There is no way at this time to continue a glob search after aborting, but you can re-\/use the stat\+Cache to avoid having to duplicate syscalls.
\end{DoxyItemize}

\subsubsection*{Events}


\begin{DoxyItemize}
\item {\ttfamily end} When the matching is finished, this is emitted with all the matches found. If the {\ttfamily nonull} option is set, and no match was found, then the {\ttfamily matches} list contains the original pattern. The matches are sorted, unless the {\ttfamily nosort} flag is set.
\item {\ttfamily match} Every time a match is found, this is emitted with the matched.
\item {\ttfamily error} Emitted when an unexpected error is encountered, or whenever any fs error occurs if {\ttfamily options.\+strict} is set.
\item {\ttfamily abort} When {\ttfamily abort()} is called, this event is raised.
\end{DoxyItemize}

\subsubsection*{Methods}


\begin{DoxyItemize}
\item {\ttfamily abort} Stop the search.
\end{DoxyItemize}

\subsubsection*{Options}

All the options that can be passed to Minimatch can also be passed to Glob to change pattern matching behavior. Also, some have been added, or have glob-\/specific ramifications.

All options are false by default, unless otherwise noted.

All options are added to the glob object, as well.


\begin{DoxyItemize}
\item {\ttfamily cwd} The current working directory in which to search. Defaults to {\ttfamily process.\+cwd()}.
\item {\ttfamily root} The place where patterns starting with {\ttfamily /} will be mounted onto. Defaults to {\ttfamily path.\+resolve(options.\+cwd, \char`\"{}/\char`\"{})} ({\ttfamily /} on Unix systems, and {\ttfamily C\+:\textbackslash{}} or some such on Windows.)
\item {\ttfamily nomount} By default, a pattern starting with a forward-\/slash will be \char`\"{}mounted\char`\"{} onto the root setting, so that a valid filesystem path is returned. Set this flag to disable that behavior.
\item {\ttfamily mark} Add a {\ttfamily /} character to directory matches. Note that this requires additional stat calls.
\item {\ttfamily nosort} Don\textquotesingle{}t sort the results.
\item {\ttfamily stat} Set to true to stat {\itshape all} results. This reduces performance somewhat, and is completely unnecessary, unless {\ttfamily readdir} is presumed to be an untrustworthy indicator of file existence. It will cause E\+L\+O\+OP to be triggered one level sooner in the case of cyclical symbolic links.
\item {\ttfamily silent} When an unusual error is encountered when attempting to read a directory, a warning will be printed to stderr. Set the {\ttfamily silent} option to true to suppress these warnings.
\item {\ttfamily strict} When an unusual error is encountered when attempting to read a directory, the process will just continue on in search of other matches. Set the {\ttfamily strict} option to raise an error in these cases.
\item {\ttfamily stat\+Cache} A cache of results of filesystem information, to prevent unnecessary stat calls. While it should not normally be necessary to set this, you may pass the stat\+Cache from one glob() call to the options object of another, if you know that the filesystem will not change between calls. (See \char`\"{}\+Race Conditions\char`\"{} below.)
\item {\ttfamily sync} Perform a synchronous glob search.
\item {\ttfamily nounique} In some cases, brace-\/expanded patterns can result in the same file showing up multiple times in the result set. By default, this implementation prevents duplicates in the result set. Set this flag to disable that behavior.
\item {\ttfamily nonull} Set to never return an empty set, instead returning a set containing the pattern itself. This is the default in glob(3).
\item {\ttfamily nocase} Perform a case-\/insensitive match. Note that case-\/insensitive filesystems will sometimes result in glob returning results that are case-\/insensitively matched anyway, since readdir and stat will not raise an error.
\item {\ttfamily debug} Set to enable debug logging in minimatch and glob.
\item {\ttfamily glob\+Debug} Set to enable debug logging in glob, but not minimatch.
\end{DoxyItemize}

\subsection*{Comparisons to other fnmatch/glob implementations}

While strict compliance with the existing standards is a worthwhile goal, some discrepancies exist between node-\/glob and other implementations, and are intentional.

If the pattern starts with a {\ttfamily !} character, then it is negated. Set the {\ttfamily nonegate} flag to suppress this behavior, and treat leading {\ttfamily !} characters normally. This is perhaps relevant if you wish to start the pattern with a negative extglob pattern like {\ttfamily !(a$\vert$B)}. Multiple {\ttfamily !} characters at the start of a pattern will negate the pattern multiple times.

If a pattern starts with {\ttfamily \#}, then it is treated as a comment, and will not match anything. Use {\ttfamily \textbackslash{}\#} to match a literal {\ttfamily \#} at the start of a line, or set the {\ttfamily nocomment} flag to suppress this behavior.

The double-\/star character {\ttfamily $\ast$$\ast$} is supported by default, unless the {\ttfamily noglobstar} flag is set. This is supported in the manner of bsdglob and bash 4.\+1, where {\ttfamily $\ast$$\ast$} only has special significance if it is the only thing in a path part. That is, {\ttfamily a/$\ast$$\ast$/b} will match {\ttfamily a/x/y/b}, but {\ttfamily a/$\ast$$\ast$b} will not. {\bfseries Note that this is different from the way that {\ttfamily $\ast$$\ast$} is handled by ruby\textquotesingle{}s {\ttfamily Dir} class.}

If an escaped pattern has no matches, and the {\ttfamily nonull} flag is set, then glob returns the pattern as-\/provided, rather than interpreting the character escapes. For example, {\ttfamily glob.\+match(\mbox{[}\mbox{]}, \char`\"{}\textbackslash{}\textbackslash{}$\ast$a\textbackslash{}\textbackslash{}?\char`\"{})} will return {\ttfamily \char`\"{}\textbackslash{}\textbackslash{}$\ast$a\textbackslash{}\textbackslash{}?\char`\"{}} rather than {\ttfamily \char`\"{}$\ast$a?\char`\"{}}. This is akin to setting the {\ttfamily nullglob} option in bash, except that it does not resolve escaped pattern characters.

If brace expansion is not disabled, then it is performed before any other interpretation of the glob pattern. Thus, a pattern like {\ttfamily +(a$\vert$\{b),c)\}}, which would not be valid in bash or zsh, is expanded {\bfseries first} into the set of {\ttfamily +(a$\vert$b)} and {\ttfamily +(a$\vert$c)}, and those patterns are checked for validity. Since those two are valid, matching proceeds.

\subsection*{Windows}

{\bfseries Please only use forward-\/slashes in glob expressions.}

Though windows uses either {\ttfamily /} or {\ttfamily \textbackslash{}} as its path separator, only {\ttfamily /} characters are used by this glob implementation. You must use forward-\/slashes {\bfseries only} in glob expressions. Back-\/slashes will always be interpreted as escape characters, not path separators.

Results from absolute patterns such as {\ttfamily /foo/$\ast$} are mounted onto the root setting using {\ttfamily path.\+join}. On windows, this will by default result in {\ttfamily /foo/$\ast$} matching {\ttfamily C\+:\textbackslash{}foo\textbackslash{}bar.\+txt}.

\subsection*{Race Conditions}

Glob searching, by its very nature, is susceptible to race conditions, since it relies on directory walking and such.

As a result, it is possible that a file that exists when glob looks for it may have been deleted or modified by the time it returns the result.

As part of its internal implementation, this program caches all stat and readdir calls that it makes, in order to cut down on system overhead. However, this also makes it even more susceptible to races, especially if the stat\+Cache object is reused between glob calls.

Users are thus advised not to use a glob result as a guarantee of filesystem state in the face of rapid changes. For the vast majority of operations, this is never a problem. 