Javascript lacks complete string manipulation operations. This an attempt to fill that gap. List of build-\/in methods can be found for example from \href{http://www.diveintojavascript.com/core-javascript-reference/the-string-object}{\tt Dive Into Java\+Script}.

As name states this an extension for \href{http://documentcloud.github.com/underscore/}{\tt Underscore.\+js}, but it can be used independently from $\ast$$\ast$\+\_\+s$\ast$$\ast$-\/global variable. But with Underscore.\+js you can use Object-\/\+Oriented style and chaining\+:


\begin{DoxyCode}
\_("   epeli  ").chain().trim().capitalize().value()
=> "Epeli"
\end{DoxyCode}


\subsection*{Download}


\begin{DoxyItemize}
\item \href{https://raw.github.com/epeli/underscore.string/master/lib/underscore.string.js}{\tt Development version} {\itshape Uncompressed with Comments 18kb}
\item \href{https://github.com/epeli/underscore.string/raw/master/dist/underscore.string.min.js}{\tt Production version} {\itshape Minified 7kb}
\end{DoxyItemize}

\subsection*{Node.\+js installation}

{\bfseries npm package} \begin{DoxyVerb}npm install underscore.string
\end{DoxyVerb}


{\bfseries Standalone usage}\+:


\begin{DoxyCode}
var \_s = require('underscore.string');
\end{DoxyCode}


{\bfseries Integrate with Underscore.\+js}\+:


\begin{DoxyCode}
var \_  = require('underscore');

// Import Underscore.string to separate object, because there are conflict functions (include, reverse,
       contains)
\_.str = require('underscore.string');

// Mix in non-conflict functions to Underscore namespace if you want
\_.mixin(\_.str.exports());

// All functions, include conflict, will be available through \_.str object
\_.str.include('Underscore.string', 'string'); // => true
\end{DoxyCode}


\subsection*{String Functions}

For availability of functions in this way you need to mix in Underscore.\+string functions\+:


\begin{DoxyCode}
\_.mixin(\_.string.exports());
\end{DoxyCode}


otherwise functions from examples will be available through \+\_\+.\+string or \+\_\+.\+str objects\+:


\begin{DoxyCode}
\_.str.capitalize('epeli')
=> "Epeli"
\end{DoxyCode}


{\bfseries capitalize} \+\_\+.\+capitalize(string)

Converts first letter of the string to uppercase.


\begin{DoxyCode}
\_.capitalize("foo Bar")
=> "Foo Bar"
\end{DoxyCode}


{\bfseries chop} \+\_\+.\+chop(string, step)


\begin{DoxyCode}
\_.chop('whitespace', 3)
=> ['whi','tes','pac','e']
\end{DoxyCode}


{\bfseries clean} \+\_\+.\+clean(str)

Compress some whitespaces to one.


\begin{DoxyCode}
\_.clean(" foo    bar   ")
=> 'foo bar'
\end{DoxyCode}


{\bfseries chars} \+\_\+.\+chars(str)


\begin{DoxyCode}
\_.chars('Hello')
=> ['H','e','l','l','o']
\end{DoxyCode}


{\bfseries includes} \+\_\+.\+includes(string, substring)

Tests if string contains a substring.


\begin{DoxyCode}
\_.includes("foobar", "ob")
=> true
\end{DoxyCode}


{\bfseries include} available only through \+\_\+.\+str object, because Underscore has function with the same name.


\begin{DoxyCode}
\_.str.include("foobar", "ob")
=> true
\end{DoxyCode}


{\bfseries includes} function was removed

But you can create it in this way, for compatibility with previous versions\+:


\begin{DoxyCode}
\_.includes = \_.str.include
\end{DoxyCode}


{\bfseries count} \+\_\+.\+count(string, substring)


\begin{DoxyCode}
\_('Hello world').count('l')
=> 3
\end{DoxyCode}


{\bfseries escape\+H\+T\+ML} \+\_\+.\+escape\+H\+T\+M\+L(string)

Converts H\+T\+ML special characters to their entity equivalents.


\begin{DoxyCode}
\_('<div>Blah blah blah</div>').escapeHTML();
=> '&lt;div&gt;Blah blah blah&lt;/div&gt;'
\end{DoxyCode}


{\bfseries unescape\+H\+T\+ML} \+\_\+.\+unescape\+H\+T\+M\+L(string)

Converts entity characters to H\+T\+ML equivalents.


\begin{DoxyCode}
\_('&lt;div&gt;Blah blah blah&lt;/div&gt;').unescapeHTML();
=> '<div>Blah blah blah</div>'
\end{DoxyCode}


{\bfseries insert} \+\_\+.\+insert(string, index, substing)


\begin{DoxyCode}
\_('Hello ').insert(6, 'world')
=> 'Hello world'
\end{DoxyCode}


{\bfseries is\+Blank} \+\_\+.\+is\+Blank(string)


\begin{DoxyCode}
\_('').isBlank(); // => true
\_('\(\backslash\)n').isBlank(); // => true
\_(' ').isBlank(); // => true
\_('a').isBlank(); // => false
\end{DoxyCode}


{\bfseries join} \+\_\+.\+join(separator, $\ast$strings)

Joins strings together with given separator


\begin{DoxyCode}
\_.join(" ", "foo", "bar")
=> "foo bar"
\end{DoxyCode}


{\bfseries lines} \+\_\+.\+lines(str)


\begin{DoxyCode}
\_.lines("Hello\(\backslash\)nWorld")
=> ["Hello", "World"]
\end{DoxyCode}


{\bfseries reverse} available only through \+\_\+.\+str object, because Underscore has function with the same name.

Return reversed string\+:


\begin{DoxyCode}
\_.str.reverse("foobar")
=> 'raboof'
\end{DoxyCode}


{\bfseries splice} \+\_\+.\+splice(string, index, howmany, substring)

Like a array splice.


\begin{DoxyCode}
\_('https://edtsech@bitbucket.org/edtsech/underscore.strings').splice(30, 7, 'epeli')
=> 'https://edtsech@bitbucket.org/epeli/underscore.strings'
\end{DoxyCode}


{\bfseries starts\+With} \+\_\+.\+starts\+With(string, starts)

This method checks whether string starts with starts.


\begin{DoxyCode}
\_("image.gif").startsWith("image")
=> true
\end{DoxyCode}


{\bfseries ends\+With} \+\_\+.\+ends\+With(string, ends)

This method checks whether string ends with ends.


\begin{DoxyCode}
\_("image.gif").endsWith("gif")
=> true
\end{DoxyCode}


{\bfseries succ} \+\_\+.\+succ(str)

Returns the successor to str.


\begin{DoxyCode}
\_('a').succ()
=> 'b'

\_('A').succ()
=> 'B'
\end{DoxyCode}


{\bfseries supplant}

Supplant function was removed, use Underscore.\+js \href{http://documentcloud.github.com/underscore/#template}{\tt template function}.

{\bfseries strip} alias for {\itshape trim}

{\bfseries lstrip} alias for {\itshape ltrim}

{\bfseries rstrip} alias for {\itshape rtrim}

{\bfseries titleize} \+\_\+.\+titleize(string)


\begin{DoxyCode}
\_('my name is epeli').titleize()
=> 'My Name Is Epeli'
\end{DoxyCode}


{\bfseries camelize} \+\_\+.\+camelize(string)

Converts underscored or dasherized string to a camelized one


\begin{DoxyCode}
\_('-moz-transform').camelize()
=> 'MozTransform'
\end{DoxyCode}


{\bfseries classify} \+\_\+.\+classify(string)

Converts string to camelized class name


\begin{DoxyCode}
\_('some\_class\_name').classify()
=> 'SomeClassName'
\end{DoxyCode}


{\bfseries underscored} \+\_\+.\+underscored(string)

Converts a camelized or dasherized string into an underscored one


\begin{DoxyCode}
\_('MozTransform').underscored()
=> 'moz\_transform'
\end{DoxyCode}


{\bfseries dasherize} \+\_\+.\+dasherize(string)

Converts a underscored or camelized string into an dasherized one


\begin{DoxyCode}
\_('MozTransform').dasherize()
=> '-moz-transform'
\end{DoxyCode}


{\bfseries humanize} \+\_\+.\+humanize(string)

Converts an underscored, camelized, or dasherized string into a humanized one. Also removes beginning and ending whitespace, and removes the postfix \textquotesingle{}\+\_\+id\textquotesingle{}.


\begin{DoxyCode}
\_('  capitalize dash-CamelCase\_underscore trim  ').humanize()
=> 'Capitalize dash camel case underscore trim'
\end{DoxyCode}


{\bfseries trim} \+\_\+.\+trim(string, \mbox{[}characters\mbox{]})

trims defined characters from begining and ending of the string. Defaults to whitespace characters.


\begin{DoxyCode}
\_.trim("  foobar   ")
=> "foobar"

\_.trim("\_-foobar-\_", "\_-")
=> "foobar"
\end{DoxyCode}


{\bfseries ltrim} \+\_\+.\+ltrim(string, \mbox{[}characters\mbox{]})

Left trim. Similar to trim, but only for left side.

{\bfseries rtrim} \+\_\+.\+rtrim(string, \mbox{[}characters\mbox{]})

Right trim. Similar to trim, but only for right side.

{\bfseries truncate} \+\_\+.\+truncate(string, length, truncate\+String)


\begin{DoxyCode}
\_('Hello world').truncate(5)
=> 'Hello...'

\_('Hello').truncate(10)
=> 'Hello'
\end{DoxyCode}


{\bfseries prune} \+\_\+.\+prune(string, length, prune\+String)

Elegant version of truncate. Makes sure the pruned string does not exceed the original length. Avoid half-\/chopped words when truncating.


\begin{DoxyCode}
\_('Hello, world').prune(5)
=> 'Hello...'

\_('Hello, world').prune(8)
=> 'Hello...'

\_('Hello, world').prune(5, ' (read a lot more)')
=> 'Hello, world' (as adding "(read a lot more)" would be longer than the original string)

\_('Hello, cruel world').prune(15)
=> 'Hello, cruel...'

\_('Hello').prune(10)
=> 'Hello'
\end{DoxyCode}


{\bfseries words} \+\_\+.\+words(str, delimiter=\char`\"{} \char`\"{})

Split string by delimiter (String or Reg\+Exp), \textquotesingle{} \textquotesingle{} by default.


\begin{DoxyCode}
\_.words("I love you")
=> ["I","love","you"]

\_.words("I\_love\_you", "\_")
=> ["I","love","you"]

\_.words("I-love-you", /-/)
=> ["I","love","you"]
\end{DoxyCode}


{\bfseries sprintf} \+\_\+.\+sprintf(string format, $\ast$arguments)

C like string formatting. Credits goes to \href{http://www.diveintojavascript.com/projects/sprintf-for-javascript}{\tt Alexandru Marasteanu}. For more detailed documentation, see the \href{http://www.diveintojavascript.com/projects/sprintf-for-javascript}{\tt original page}.


\begin{DoxyCode}
\_.sprintf("%.1f", 1.17)
"1.2"
\end{DoxyCode}


{\bfseries pad} \+\_\+.\+pad(str, length, \mbox{[}pad\+Str, type\mbox{]})

pads the {\ttfamily str} with characters until the total string length is equal to the passed {\ttfamily length} parameter. By default, pads on the {\bfseries left} with the space char ({\ttfamily \char`\"{} \char`\"{}}). {\ttfamily pad\+Str} is truncated to a single character if necessary.


\begin{DoxyCode}
\_.pad("1", 8)
-> "       1";

\_.pad("1", 8, '0')
-> "00000001";

\_.pad("1", 8, '0', 'right')
-> "10000000";

\_.pad("1", 8, '0', 'both')
-> "00001000";

\_.pad("1", 8, 'bleepblorp', 'both')
-> "bbbb1bbb";
\end{DoxyCode}


{\bfseries lpad} \+\_\+.\+lpad(str, length, \mbox{[}pad\+Str\mbox{]})

left-\/pad a string. Alias for `pad(str, length, pad\+Str, \textquotesingle{}left\textquotesingle{})`


\begin{DoxyCode}
\_.lpad("1", 8, '0')
-> "00000001";
\end{DoxyCode}


{\bfseries rpad} \+\_\+.\+rpad(str, length, \mbox{[}pad\+Str\mbox{]})

right-\/pad a string. Alias for `pad(str, length, pad\+Str, \textquotesingle{}right\textquotesingle{})`


\begin{DoxyCode}
\_.rpad("1", 8, '0')
-> "10000000";
\end{DoxyCode}


{\bfseries lrpad} \+\_\+.\+lrpad(str, length, \mbox{[}pad\+Str\mbox{]})

left/right-\/pad a string. Alias for `pad(str, length, pad\+Str, \textquotesingle{}both\textquotesingle{})`


\begin{DoxyCode}
\_.lrpad("1", 8, '0')
-> "00001000";
\end{DoxyCode}


{\bfseries center} alias for {\bfseries lrpad}

{\bfseries ljust} alias for {\itshape rpad}

{\bfseries rjust} alias for {\itshape lpad}

{\bfseries to\+Number} \+\_\+.\+to\+Number(string, \mbox{[}decimals\mbox{]})

Parse string to number. Returns NaN if string can\textquotesingle{}t be parsed to number.


\begin{DoxyCode}
\_('2.556').toNumber()
=> 3

\_('2.556').toNumber(1)
=> 2.6
\end{DoxyCode}


{\bfseries str\+Right} \+\_\+.\+str\+Right(string, pattern)

Searches a string from left to right for a pattern and returns a substring consisting of the characters in the string that are to the right of the pattern or all string if no match found.


\begin{DoxyCode}
\_('This\_is\_a\_test\_string').strRight('\_')
=> "is\_a\_test\_string";
\end{DoxyCode}


{\bfseries str\+Right\+Back} \+\_\+.\+str\+Right\+Back(string, pattern)

Searches a string from right to left for a pattern and returns a substring consisting of the characters in the string that are to the right of the pattern or all string if no match found.


\begin{DoxyCode}
\_('This\_is\_a\_test\_string').strRightBack('\_')
=> "string";
\end{DoxyCode}


{\bfseries str\+Left} \+\_\+.\+str\+Left(string, pattern)

Searches a string from left to right for a pattern and returns a substring consisting of the characters in the string that are to the left of the pattern or all string if no match found.


\begin{DoxyCode}
\_('This\_is\_a\_test\_string').strLeft('\_')
=> "This";
\end{DoxyCode}


{\bfseries str\+Left\+Back} \+\_\+.\+str\+Left\+Back(string, pattern)

Searches a string from right to left for a pattern and returns a substring consisting of the characters in the string that are to the left of the pattern or all string if no match found.


\begin{DoxyCode}
\_('This\_is\_a\_test\_string').strLeftBack('\_')
=> "This\_is\_a\_test";
\end{DoxyCode}


{\bfseries strip\+Tags}

Removes all html tags from string.


\begin{DoxyCode}
\_('a <a href="#">link</a>').stripTags()
=> 'a link'

\_('a <a href="#">link</a><script>alert("hello world!")</script>').stripTags()
=> 'a linkalert("hello world!")'
\end{DoxyCode}


{\bfseries to\+Sentence} \+\_\+.\+to\+Sentence(array, \mbox{[}delimiter, last\+Delimiter\mbox{]})

Join an array into a human readable sentence.


\begin{DoxyCode}
\_.toSentence(['jQuery', 'Mootools', 'Prototype'])
=> 'jQuery, Mootools and Prototype';

\_.toSentence(['jQuery', 'Mootools', 'Prototype'], ', ', ' unt ')
=> 'jQuery, Mootools unt Prototype';
\end{DoxyCode}


{\bfseries repeat} \+\_\+.\+repeat(string, count, \mbox{[}separator\mbox{]})

Repeats a string count times.


\begin{DoxyCode}
\_.repeat("foo", 3)
=> 'foofoofoo';

\_.repeat("foo", 3, "bar")
=> 'foobarfoobarfoo'
\end{DoxyCode}


{\bfseries slugify} \+\_\+.\+slugify(string)

Transform text into a U\+RL slug. Replaces whitespaces, accentuated, and special characters with a dash.


\begin{DoxyCode}
\_.slugify("Un éléphant à l'orée du bois")
=> 'un-elephant-a-loree-du-bois';
\end{DoxyCode}


{\itshape {\bfseries Caution\+: this function is charset dependent}}

\subsection*{Roadmap}

Any suggestions or bug reports are welcome. Just email me or more preferably open an issue.

\subsection*{Changelog}

\subsubsection*{2.\+0.\+0}


\begin{DoxyItemize}
\item Added prune, humanize functions
\item Added \+\_\+.\+string (\+\_\+.\+str) namespace for Underscore.\+string library
\item Removed includes function
\end{DoxyItemize}

\paragraph*{Problems}

We lose two things for {\ttfamily include} and {\ttfamily reverse} methods from {\ttfamily \+\_\+.\+string}\+:


\begin{DoxyItemize}
\item Calls like `\+\_\+(\textquotesingle{}foobar\textquotesingle{}).include(\textquotesingle{}bar\textquotesingle{})` aren\textquotesingle{}t available;
\item Chaining isn\textquotesingle{}t available too.
\end{DoxyItemize}

But if you need this functionality you can create aliases for conflict functions which will be convenient for you\+:


\begin{DoxyCode}
\_.mixin(\{
    includeString: \_.str.include,
    reverseString: \_.str.reverse
\})

// Now wrapper calls and chaining are available.
\_('foobar').chain().reverseString().includeString('rab').value()
\end{DoxyCode}


\paragraph*{Standalone Usage}

If you are using Underscore.\+string without Underscore. You also have {\ttfamily \+\_\+.\+string} namespace for it and {\ttfamily \+\_\+.\+str} alias But of course you can just reassign {\ttfamily \+\_\+} variable with {\ttfamily \+\_\+.\+string}


\begin{DoxyCode}
\_ = \_.string
\end{DoxyCode}
 \subsubsection*{2.\+2.\+0}


\begin{DoxyItemize}
\item Capitalize method behavior changed
\item Various perfomance tweaks
\end{DoxyItemize}

\subsubsection*{2.\+1.\+1}


\begin{DoxyItemize}
\item Fixed words method bug
\item Added classify method
\end{DoxyItemize}

\subsubsection*{2.\+1.\+0}


\begin{DoxyItemize}
\item A\+MD support
\item Added to\+Sentence method
\item Added slugify method
\item Lots of speed optimizations
\end{DoxyItemize}

\subsubsection*{2.\+0.\+0}

For upgrading to this version you need to mix in Underscore.\+string library to Underscore object\+:


\begin{DoxyCode}
\_.mixin(\_.string.exports());
\end{DoxyCode}


and all non-\/conflict Underscore.\+string functions will be available through Underscore object. Also function {\ttfamily includes} has been removed, you should replace this function by {\ttfamily \+\_\+.\+str.\+include} or create alias {\ttfamily \+\_\+.\+includes = \+\_\+.\+str.\+include} and all your code will work fine.

\subsubsection*{1.\+1.\+6}


\begin{DoxyItemize}
\item Fixed reverse and truncate
\item Added is\+Blank, strip\+Tags, inlude(alias for includes)
\item Added uglifier compression
\end{DoxyItemize}

\subsubsection*{1.\+1.\+5}


\begin{DoxyItemize}
\item Added str\+Right, str\+Right\+Back, str\+Left, str\+Left\+Back
\end{DoxyItemize}

\subsubsection*{1.\+1.\+4}


\begin{DoxyItemize}
\item Added pad, lpad, rpad, lrpad methods and aliases center, ljust, rjust
\item Integration with Underscore 1.\+1.\+6
\end{DoxyItemize}

\subsubsection*{1.\+1.\+3}


\begin{DoxyItemize}
\item Added methods\+: underscored, camelize, dasherize
\item Support newer version of npm
\end{DoxyItemize}

\subsubsection*{1.\+1.\+2}


\begin{DoxyItemize}
\item Created functions\+: lines, chars, words functions
\end{DoxyItemize}

\subsubsection*{1.\+0.\+2}


\begin{DoxyItemize}
\item Created integration test suite with underscore.\+js 1.\+1.\+4 (now it\textquotesingle{}s absolutely compatible)
\item Removed \textquotesingle{}reverse\textquotesingle{} function, because this function override underscore.\+js \textquotesingle{}reverse\textquotesingle{}
\end{DoxyItemize}

\subsection*{Contribute}


\begin{DoxyItemize}
\item Fork \& pull request. Don\textquotesingle{}t forget about tests.
\item If you planning add some feature please create issue before.
\end{DoxyItemize}

Otherwise changes will be rejected.

\subsection*{Contributors list}


\begin{DoxyItemize}
\item Esa-\/\+Matti Suuronen \href{mailto:esa-matti@suuronen.org}{\tt esa-\/matti@suuronen.\+org} (\href{http://esa-matti.suuronen.org/}{\tt http\+://esa-\/matti.\+suuronen.\+org/}),
\item Edward Tsech \href{mailto:edtsech@gmail.com}{\tt edtsech@gmail.\+com},
\item Sasha Koss \href{mailto:kossnocorp@gmail.com}{\tt kossnocorp@gmail.\+com} (\href{http://koss.nocorp.me/}{\tt http\+://koss.\+nocorp.\+me/}),
\item Vladimir Dronnikov \href{mailto:dronnikov@gmail.com}{\tt dronnikov@gmail.\+com},
\item Pete Kruckenberg (\href{https://github.com/kruckenb}{\tt https\+://github.\+com/kruckenb}),
\item Paul Chavard \href{mailto:paul@chavard.net}{\tt paul@chavard.\+net} (\href{http://tchak.net}{\tt http\+://tchak.\+net}),
\item Ed Finkler \href{mailto:coj@funkatron.com}{\tt coj@funkatron.\+com} (\href{http://funkatron.com}{\tt http\+://funkatron.\+com})
\item Pavel Pravosud \href{mailto:rwz@duckroll.ru}{\tt rwz@duckroll.\+ru}
\item Anton Lindqvist \href{mailto:anton@qvister.se}{\tt anton@qvister.\+se} (\href{http://qvister.se}{\tt http\+://qvister.\+se})
\end{DoxyItemize}

\subsection*{Licence}

The M\+IT License

Copyright (c) 2011 Esa-\/\+Matti Suuronen \href{mailto:esa-matti@suuronen.org}{\tt esa-\/matti@suuronen.\+org}

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \char`\"{}\+Software\char`\"{}), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions\+:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

T\+HE S\+O\+F\+T\+W\+A\+RE IS P\+R\+O\+V\+I\+D\+ED \char`\"{}\+A\+S I\+S\char`\"{}, W\+I\+T\+H\+O\+UT W\+A\+R\+R\+A\+N\+TY OF A\+NY K\+I\+ND, E\+X\+P\+R\+E\+SS OR I\+M\+P\+L\+I\+ED, I\+N\+C\+L\+U\+D\+I\+NG B\+UT N\+OT L\+I\+M\+I\+T\+ED TO T\+HE W\+A\+R\+R\+A\+N\+T\+I\+ES OF M\+E\+R\+C\+H\+A\+N\+T\+A\+B\+I\+L\+I\+TY, F\+I\+T\+N\+E\+SS F\+OR A P\+A\+R\+T\+I\+C\+U\+L\+AR P\+U\+R\+P\+O\+SE A\+ND N\+O\+N\+I\+N\+F\+R\+I\+N\+G\+E\+M\+E\+NT. IN NO E\+V\+E\+NT S\+H\+A\+LL T\+HE A\+U\+T\+H\+O\+RS OR C\+O\+P\+Y\+R\+I\+G\+HT H\+O\+L\+D\+E\+RS BE L\+I\+A\+B\+LE F\+OR A\+NY C\+L\+A\+IM, D\+A\+M\+A\+G\+ES OR O\+T\+H\+ER L\+I\+A\+B\+I\+L\+I\+TY, W\+H\+E\+T\+H\+ER IN AN A\+C\+T\+I\+ON OF C\+O\+N\+T\+R\+A\+CT, T\+O\+RT OR O\+T\+H\+E\+R\+W\+I\+SE, A\+R\+I\+S\+I\+NG F\+R\+OM, O\+UT OF OR IN C\+O\+N\+N\+E\+C\+T\+I\+ON W\+I\+TH T\+HE S\+O\+F\+T\+W\+A\+RE OR T\+HE U\+SE OR O\+T\+H\+ER D\+E\+A\+L\+I\+N\+GS IN T\+HE S\+O\+F\+T\+W\+A\+RE. 