A {\itshape local handle} is a pointer to an object. All V8 objects are accessed using handles, they are necessary because of the way the V8 garbage collector works.

A handle scope can be thought of as a container for any number of handles. When you\textquotesingle{}ve finished with your handles, instead of deleting each one individually you can simply delete their scope.

The creation of {\ttfamily Handle\+Scope} objects is different across the supported versions of V8. Therefore, N\+AN provides its own implementations that can be used safely across these.


\begin{DoxyItemize}
\item \href{#api_nan_handle_scope}{\tt {\bfseries {\ttfamily Nan\+::\+Handle\+Scope}}}
\item \href{#api_nan_escapable_handle_scope}{\tt {\bfseries {\ttfamily Nan\+::\+Escapable\+Handle\+Scope}}}
\end{DoxyItemize}

Also see the V8 Embedders Guide section on \href{https://developers.google.com/v8/embed#handles}{\tt Handles and Garbage Collection}.

\label{_api_nan_handle_scope}%
 \subsubsection*{\hyperlink{class_nan_1_1_handle_scope}{Nan\+::\+Handle\+Scope}}

A simple wrapper around \href{https://v8docs.nodesource.com/io.js-3.0/d3/d95/classv8_1_1_handle_scope.html}{\tt {\ttfamily v8\+::\+Handle\+Scope}}.

Definition\+:


\begin{DoxyCode}
\{c++\}
class Nan::HandleScope \{
 public:
  Nan::HandleScope();
  static int NumberOfHandles();
\};
\end{DoxyCode}


Allocate a new {\ttfamily \hyperlink{class_nan_1_1_handle_scope}{Nan\+::\+Handle\+Scope}} whenever you are creating new V8 Java\+Script objects. Note that an implicit {\ttfamily Handle\+Scope} is created for you on Java\+Script-\/accessible methods so you do not need to insert one yourself.

Example\+:


\begin{DoxyCode}
\{c++\}
// new object is created, it needs a new scope:
void Pointless() \{
  Nan::HandleScope scope;
  v8::Local<v8::Object> obj = Nan::New<v8::Object>();
\}

// JavaScript-accessible method already has a HandleScope
NAN\_METHOD(Pointless2) \{
  v8::Local<v8::Object> obj = Nan::New<v8::Object>();
\}
\end{DoxyCode}


\label{_api_nan_escapable_handle_scope}%
 \subsubsection*{\hyperlink{class_nan_1_1_escapable_handle_scope}{Nan\+::\+Escapable\+Handle\+Scope}}

Similar to \href{#api_nan_handle_scope}{\tt {\ttfamily Nan\+::\+Handle\+Scope}} but should be used in cases where a function needs to return a V8 Java\+Script type that has been created within it.

Definition\+:


\begin{DoxyCode}
\{c++\}
class Nan::EscapableHandleScope \{
 public:
  Nan::EscapableHandleScope();
  static int NumberOfHandles();
  template<typename T> v8::Local<T> Escape(v8::Local<T> value);
\}
\end{DoxyCode}


Use {\ttfamily Escape(value)} to return the object.

Example\+:


\begin{DoxyCode}
\{c++\}
v8::Local<v8::Object> EmptyObj() \{
  Nan::EscapableHandleScope scope;
  v8::Local<v8::Object> obj = Nan::New<v8::Object>();
  return scope.Escape(obj);
\}
\end{DoxyCode}
 