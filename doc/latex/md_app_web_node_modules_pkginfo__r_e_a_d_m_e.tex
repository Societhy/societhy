An easy way to expose properties on a module from a package.\+json

\subsection*{Installation}

\#\#\# Installing npm (node package manager) 
\begin{DoxyCode}
curl http://npmjs.org/install.sh | sh
\end{DoxyCode}


\#\#\# Installing pkginfo 
\begin{DoxyCode}
[sudo] npm install pkginfo
\end{DoxyCode}


\subsection*{Motivation}

How often when writing node.\+js modules have you written the following line(s) of code?


\begin{DoxyItemize}
\item Hard code your version string into your code
\end{DoxyItemize}


\begin{DoxyCode}
exports.version = '0.1.0';
\end{DoxyCode}



\begin{DoxyItemize}
\item Programmatically expose the version from the package.\+json
\end{DoxyItemize}


\begin{DoxyCode}
exports.version = JSON.parse(fs.readFileSync('/path/to/package.json', 'utf8')).version;
\end{DoxyCode}


In other words, how often have you wanted to expose basic information from your package.\+json onto your module programmatically? {\bfseries W\+E\+LL N\+OW Y\+OU C\+A\+N!}

\subsection*{Usage}

Using {\ttfamily pkginfo} is idiot-\/proof, just require and invoke it.


\begin{DoxyCode}
var pkginfo = require('pkginfo')(module);

console.dir(module.exports);
\end{DoxyCode}


By invoking the {\ttfamily pkginfo} module all of the properties in your {\ttfamily package.\+json} file will be automatically exposed on the callee module (i.\+e. the parent module of {\ttfamily pkginfo}).

Here\textquotesingle{}s a sample of the output\+:


\begin{DoxyCode}
\{ name: 'simple-app',
  description: 'A test fixture for pkginfo',
  version: '0.1.0',
  author: 'Charlie Robbins <charlie.robbins@gmail.com>',
  keywords: [ 'test', 'fixture' ],
  main: './index.js',
  scripts: \{ test: 'vows test/*-test.js --spec' \},
  engines: \{ node: '>= 0.4.0' \} \}
\end{DoxyCode}


\subsubsection*{Expose specific properties}

If you don\textquotesingle{}t want to expose {\bfseries all} properties on from your {\ttfamily package.\+json} on your module then simple pass those properties to the {\ttfamily pkginfo} function\+:


\begin{DoxyCode}
var pkginfo = require('pkginfo')(module, 'version', 'author');

console.dir(module.exports);
\end{DoxyCode}



\begin{DoxyCode}
\{ version: '0.1.0',
  author: 'Charlie Robbins <charlie.robbins@gmail.com>' \}
\end{DoxyCode}


If you\textquotesingle{}re looking for further usage see the \href{https://github.com/indexzero/node-pkginfo/tree/master/examples}{\tt examples} included in this repository.

\subsection*{Run Tests}

Tests are written in \href{http://vowsjs.org}{\tt vows} and give complete coverage of all A\+P\+Is.


\begin{DoxyCode}
vows test/*-test.js --spec
\end{DoxyCode}


\paragraph*{Author\+: \href{http://nodejitsu.com}{\tt Charlie Robbins}}