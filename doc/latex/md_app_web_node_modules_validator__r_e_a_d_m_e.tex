\href{https://npmjs.org/package/validator}{\tt } \href{https://travis-ci.org/chriso/validator.js}{\tt } \href{https://coveralls.io/r/chriso/validator.js}{\tt } \href{https://npmjs.org/package/validator}{\tt }

A library of string validators and sanitizers.

\subsubsection*{Server-\/side usage}

Install the library with {\ttfamily npm install validator}


\begin{DoxyCode}
var validator = require('validator');

validator.isEmail('foo@bar.com'); //=> true
\end{DoxyCode}


\subsubsection*{Client-\/side usage}

The library can be loaded either as a standalone script, or through an \href{http://requirejs.org/docs/whyamd.html}{\tt A\+MD}-\/compatible loader


\begin{DoxyCode}
<script type="text/javascript" src="validator.min.js"></script>
<script type="text/javascript">
  validator.isEmail('foo@bar.com'); //=> true
</script>
\end{DoxyCode}


The library can also be installed through \href{http://bower.io/}{\tt bower}


\begin{DoxyCode}
$ bower install validator-js
\end{DoxyCode}


\subsubsection*{Strings only}

This library validates and sanitizes strings only.

{\bfseries Repeat\+: this library validates and sanitizes strings only}.

Passing input that isn\textquotesingle{}t a string will be an error in an upcoming release. If you\textquotesingle{}re not sure if your input is a string, coerce it using `input + \textquotesingle{}\textquotesingle{}`.

\subsubsection*{Validators}


\begin{DoxyItemize}
\item {\bfseries contains(str, seed)} -\/ check if the string contains the seed.
\item {\bfseries equals(str, comparison)} -\/ check if the string matches the comparison.
\item {\bfseries is\+After(str \mbox{[}, date\mbox{]})} -\/ check if the string is a date that\textquotesingle{}s after the specified date (defaults to now).
\item {\bfseries is\+Alpha(str \mbox{[}, locale\mbox{]})} -\/ check if the string contains only letters (a-\/z\+A-\/Z). Locale is one of `\mbox{[}\textquotesingle{}en-\/\+US\textquotesingle{}, \textquotesingle{}de-\/\+DE\textquotesingle{}, \textquotesingle{}es-\/\+ES\textquotesingle{}, \textquotesingle{}fr-\/\+FR\textquotesingle{}, \textquotesingle{}nl-\/\+NL\textquotesingle{}, \textquotesingle{}pt-\/\+PT\textquotesingle{}, \textquotesingle{}en-\/\+AU\textquotesingle{}, \textquotesingle{}en-\/\+GB\textquotesingle{}, \textquotesingle{}en-\/\+HK\textquotesingle{}, \textquotesingle{}en-\/\+IN\textquotesingle{}, \textquotesingle{}en-\/\+NZ\textquotesingle{}, \textquotesingle{}en-\/\+ZA\textquotesingle{}, \textquotesingle{}en-\/\+ZM\textquotesingle{}\mbox{]}{\ttfamily ) and defaults to}en-\/\+US{\ttfamily .}
\item {\ttfamily $\ast$$\ast$is\+Alphanumeric(str \mbox{[}, locale\mbox{]})$\ast$$\ast$ -\/ check if the string contains only letters and numbers. Locale is one of}\mbox{[}\textquotesingle{}en-\/\+US\textquotesingle{}, \textquotesingle{}de-\/\+DE\textquotesingle{}, \textquotesingle{}es-\/\+ES\textquotesingle{}, \textquotesingle{}fr-\/\+FR\textquotesingle{}, \textquotesingle{}nl-\/\+NL\textquotesingle{}, \textquotesingle{}pt-\/\+PT\textquotesingle{}, \textquotesingle{}en-\/\+AU\textquotesingle{}, \textquotesingle{}en-\/\+GB\textquotesingle{}, \textquotesingle{}en-\/\+HK\textquotesingle{}, \textquotesingle{}en-\/\+IN\textquotesingle{}, \textquotesingle{}en-\/\+NZ\textquotesingle{}, \textquotesingle{}en-\/\+ZA\textquotesingle{}, \textquotesingle{}en-\/\+ZM\textquotesingle{}\mbox{]}{\ttfamily ) and defaults to}en-\/\+U\+S`.
\item {\bfseries is\+Ascii(str)} -\/ check if the string contains A\+S\+C\+II chars only.
\item {\bfseries is\+Base64(str)} -\/ check if a string is base64 encoded.
\item {\bfseries is\+Before(str \mbox{[}, date\mbox{]})} -\/ check if the string is a date that\textquotesingle{}s before the specified date.
\item {\bfseries is\+Boolean(str)} -\/ check if a string is a boolean.
\item {\bfseries is\+Byte\+Length(str, options)} -\/ check if the string\textquotesingle{}s length (in bytes) falls in a range.{\ttfamily options} is an object which defaults to {\ttfamily \{min\+:0, max\+: undefined\}}.
\item {\bfseries is\+Credit\+Card(str)} -\/ check if the string is a credit card.
\item {\bfseries is\+Currency(str, options)} -\/ check if the string is a valid currency amount. {\ttfamily options} is an object which defaults to `\{symbol\+: \textquotesingle{}\$\textquotesingle{}, require\+\_\+symbol\+: false, allow\+\_\+space\+\_\+after\+\_\+symbol\+: false, symbol\+\_\+after\+\_\+digits\+: false, allow\+\_\+negatives\+: true, parens\+\_\+for\+\_\+negatives\+: false, negative\+\_\+sign\+\_\+before\+\_\+digits\+: false, negative\+\_\+sign\+\_\+after\+\_\+digits\+: false, allow\+\_\+negative\+\_\+sign\+\_\+placeholder\+: false, thousands\+\_\+separator\+: \textquotesingle{},\textquotesingle{}, decimal\+\_\+separator\+: \textquotesingle{}.\textquotesingle{}, allow\+\_\+space\+\_\+after\+\_\+digits\+: false \}`.
\item {\bfseries is\+Date(str)} -\/ check if the string is a date.
\item {\bfseries is\+Decimal(str)} -\/ check if the string represents a decimal number, such as 0.\+1, .3, 1.\+1, 1.\+00003, 4.\+0, etc.
\item {\bfseries is\+Divisible\+By(str, number)} -\/ check if the string is a number that\textquotesingle{}s divisible by another.
\item {\bfseries is\+Email(str \mbox{[}, options\mbox{]})} -\/ check if the string is an email. {\ttfamily options} is an object which defaults to {\ttfamily \{ allow\+\_\+display\+\_\+name\+: false, allow\+\_\+utf8\+\_\+local\+\_\+part\+: true, require\+\_\+tld\+: true \}}. If {\ttfamily allow\+\_\+display\+\_\+name} is set to true, the validator will also match {\ttfamily Display Name $<$email-\/address$>$}. If {\ttfamily allow\+\_\+utf8\+\_\+local\+\_\+part} is set to false, the validator will not allow any non-\/\+English U\+T\+F8 character in email address\textquotesingle{} local part. If {\ttfamily require\+\_\+tld} is set to false, e-\/mail addresses without having T\+LD in their domain will also be matched.
\item {\bfseries is\+F\+Q\+D\+N(str \mbox{[}, options\mbox{]})} -\/ check if the string is a fully qualified domain name (e.\+g. domain.\+com). {\ttfamily options} is an object which defaults to {\ttfamily \{ require\+\_\+tld\+: true, allow\+\_\+underscores\+: false, allow\+\_\+trailing\+\_\+dot\+: false \}}.
\item {\bfseries is\+Float(str \mbox{[}, options\mbox{]})} -\/ check if the string is a float. {\ttfamily options} is an object which can contain the keys {\ttfamily min} and/or {\ttfamily max} to validate the float is within boundaries (e.\+g. {\ttfamily \{ min\+: 7.\+22, max\+: 9.\+55 \}}).
\item {\bfseries is\+Full\+Width(str)} -\/ check if the string contains any full-\/width chars.
\item {\bfseries is\+Half\+Width(str)} -\/ check if the string contains any half-\/width chars.
\item {\bfseries is\+Hex\+Color(str)} -\/ check if the string is a hexadecimal color.
\item {\bfseries is\+Hexadecimal(str)} -\/ check if the string is a hexadecimal number.
\item {\bfseries is\+I\+P(str \mbox{[}, version\mbox{]})} -\/ check if the string is an IP (version 4 or 6).
\item {\bfseries is\+I\+S\+B\+N(str \mbox{[}, version\mbox{]})} -\/ check if the string is an I\+S\+BN (version 10 or 13).
\item {\bfseries is\+I\+S\+I\+N(str)} -\/ check if the string is an \href{https://en.wikipedia.org/wiki/International_Securities_Identification_Number}{\tt I\+S\+IN} (stock/security identifier).
\item {\bfseries is\+I\+S\+O8601(str)} -\/ check if the string is a valid \href{https://en.wikipedia.org/wiki/ISO_8601}{\tt I\+SO 8601} date.
\item {\bfseries is\+In(str, values)} -\/ check if the string is in a array of allowed values.
\item {\bfseries is\+Int(str \mbox{[}, options\mbox{]})} -\/ check if the string is an integer. {\ttfamily options} is an object which can contain the keys {\ttfamily min} and/or {\ttfamily max} to check the integer is within boundaries (e.\+g. {\ttfamily \{ min\+: 10, max\+: 99 \}}).
\item {\bfseries is\+J\+S\+O\+N(str)} -\/ check if the string is valid J\+S\+ON (note\+: uses J\+S\+O\+N.\+parse).
\item {\bfseries is\+Length(str, options)} -\/ check if the string\textquotesingle{}s length falls in a range. {\ttfamily options} is an object which defaults to {\ttfamily \{min\+:0, max\+: undefined\}}. Note\+: this function takes into account surrogate pairs.
\item {\bfseries is\+Lowercase(str)} -\/ check if the string is lowercase.
\item {\bfseries is\+M\+A\+C\+Address(str)} -\/ check if the string is a M\+AC address.
\item {\bfseries is\+Mobile\+Phone(str, locale)} -\/ check if the string is a mobile phone number, (locale is one of `\mbox{[}\textquotesingle{}zh-\/\+CN\textquotesingle{}, \textquotesingle{}zh-\/\+TW\textquotesingle{}, \textquotesingle{}en-\/\+ZA\textquotesingle{}, \textquotesingle{}en-\/\+AU\textquotesingle{}, \textquotesingle{}en-\/\+HK\textquotesingle{}, \textquotesingle{}pt-\/\+PT\textquotesingle{}, \textquotesingle{}fr-\/\+FR\textquotesingle{}, \textquotesingle{}el-\/\+GR\textquotesingle{}, \textquotesingle{}en-\/\+GB\textquotesingle{}, \textquotesingle{}en-\/\+US\textquotesingle{}, \textquotesingle{}en-\/\+ZM\textquotesingle{}, \textquotesingle{}ru-\/\+RU\textquotesingle{}, \textquotesingle{}nb-\/\+NO\textquotesingle{}, \textquotesingle{}nn-\/\+NO\textquotesingle{}, \textquotesingle{}vi-\/\+VN\textquotesingle{}, \textquotesingle{}en-\/\+NZ\textquotesingle{}, \textquotesingle{}en-\/\+IN\textquotesingle{}, \textquotesingle{}es-\/\+ES\textquotesingle{}, \textquotesingle{}de-\/\+DE\textquotesingle{}, \textquotesingle{}fi-\/\+FI\textquotesingle{}\mbox{]}`).
\item {\bfseries is\+Mongo\+Id(str)} -\/ check if the string is a valid hex-\/encoded representation of a \href{http://docs.mongodb.org/manual/reference/object-id/}{\tt Mongo\+DB Object\+Id}.
\item {\bfseries is\+Multibyte(str)} -\/ check if the string contains one or more multibyte chars.
\item {\bfseries is\+Null(str)} -\/ check if the string is null.
\item {\bfseries is\+Numeric(str)} -\/ check if the string contains only numbers.
\item {\bfseries is\+Surrogate\+Pair(str)} -\/ check if the string contains any surrogate pairs chars.
\item {\bfseries is\+U\+R\+L(str \mbox{[}, options\mbox{]})} -\/ check if the string is an U\+RL. {\ttfamily options} is an object which defaults to `\{ protocols\+: \mbox{[}\textquotesingle{}http\textquotesingle{},\textquotesingle{}https\textquotesingle{},\textquotesingle{}ftp\textquotesingle{}\mbox{]}, require\+\_\+tld\+: true, require\+\_\+protocol\+: false, require\+\_\+valid\+\_\+protocol\+: true, allow\+\_\+underscores\+: false, host\+\_\+whitelist\+: false, host\+\_\+blacklist\+: false, allow\+\_\+trailing\+\_\+dot\+: false, allow\+\_\+protocol\+\_\+relative\+\_\+urls\+: false \}`.
\item {\bfseries is\+U\+U\+I\+D(str \mbox{[}, version\mbox{]})} -\/ check if the string is a U\+U\+ID (version 3, 4 or 5).
\item {\bfseries is\+Uppercase(str)} -\/ check if the string is uppercase.
\item {\bfseries is\+Variable\+Width(str)} -\/ check if the string contains a mixture of full and half-\/width chars.
\item {\bfseries is\+Whitelisted(str, chars)} -\/ checks characters if they appear in the whitelist.
\item {\bfseries matches(str, pattern \mbox{[}, modifiers\mbox{]})} -\/ check if string matches the pattern. Either `matches(\textquotesingle{}foo\textquotesingle{}, /foo/i){\ttfamily or}matches(\textquotesingle{}foo\textquotesingle{}, \textquotesingle{}foo\textquotesingle{}, \textquotesingle{}i\textquotesingle{})`.
\end{DoxyItemize}

\subsubsection*{Sanitizers}


\begin{DoxyItemize}
\item {\bfseries blacklist(input, chars)} -\/ remove characters that appear in the blacklist. The characters are used in a Reg\+Exp and so you will need to escape some chars, e.\+g. `blacklist(input, \textquotesingle{}\textbackslash{}\mbox{[}\textbackslash{}\mbox{]}\textquotesingle{}){\ttfamily .}
\item {\ttfamily $\ast$$\ast$escape(input)$\ast$$\ast$ -\/ replace}$<${\ttfamily ,}$>${\ttfamily ,}\&{\ttfamily ,}\textquotesingle{}{\ttfamily ,}"{\ttfamily and}/` with H\+T\+ML entities.
\item {\bfseries ltrim(input \mbox{[}, chars\mbox{]})} -\/ trim characters from the left-\/side of the input.
\item {\bfseries normalize\+Email(email \mbox{[}, options\mbox{]})} -\/ canonicalize an email address. {\ttfamily options} is an object which defaults to {\ttfamily \{ lowercase\+: true, remove\+\_\+dots\+: true, remove\+\_\+extension\+: true \}}. With {\ttfamily lowercase} set to {\ttfamily true}, the local part of the email address is lowercased for all domains; the hostname is always lowercased and the local part of the email address is always lowercased for hosts that are known to be case-\/insensitive (currently only G\+Mail). Normalization follows special rules for known providers\+: currently, G\+Mail addresses have dots removed in the local part and are stripped of extensions (e.\+g. {\ttfamily some.\+one+extension@gmail.\+com} becomes {\ttfamily someone@gmail.\+com}) and all {\ttfamily @googlemail.\+com} addresses are normalized to {\ttfamily @gmail.\+com}.
\item {\bfseries rtrim(input \mbox{[}, chars\mbox{]})} -\/ trim characters from the right-\/side of the input.
\item {\bfseries strip\+Low(input \mbox{[}, keep\+\_\+new\+\_\+lines\mbox{]})} -\/ remove characters with a numerical value $<$ 32 and 127, mostly control characters. If {\ttfamily keep\+\_\+new\+\_\+lines} is {\ttfamily true}, newline characters are preserved ({\ttfamily \textbackslash{}n} and {\ttfamily \textbackslash{}r}, hex {\ttfamily 0xA} and {\ttfamily 0xD}). Unicode-\/safe in Java\+Script.
\item {\bfseries to\+Boolean(input \mbox{[}, strict\mbox{]})} -\/ convert the input string to a boolean. Everything except for {\ttfamily \textquotesingle{}0\textquotesingle{}}, {\ttfamily \textquotesingle{}false\textquotesingle{}} and `\textquotesingle{}\textquotesingle{}{\ttfamily returns}true{\ttfamily . In strict mode only}\textquotesingle{}1\textquotesingle{}{\ttfamily and}\textquotesingle{}true\textquotesingle{}{\ttfamily return}true{\ttfamily .}
\item {\ttfamily $\ast$$\ast$to\+Date(input)$\ast$$\ast$ -\/ convert the input string to a date, or}null{\ttfamily if the input is not a date.}
\item {\ttfamily $\ast$$\ast$to\+Float(input)$\ast$$\ast$ -\/ convert the input string to a float, or}NaN{\ttfamily if the input is not a float.}
\item {\ttfamily $\ast$$\ast$to\+Int(input \mbox{[}, radix\mbox{]})$\ast$$\ast$ -\/ convert the input string to an integer, or}Na\+N` if the input is not an integer.
\item {\bfseries trim(input \mbox{[}, chars\mbox{]})} -\/ trim characters (whitespace by default) from both sides of the input.
\item {\bfseries whitelist(input, chars)} -\/ remove characters that do not appear in the whitelist. The characters are used in a Reg\+Exp and so you will need to escape some chars, e.\+g. `whitelist(input, \textquotesingle{}\textbackslash{}\mbox{[}\textbackslash{}\mbox{]}\textquotesingle{})`.
\end{DoxyItemize}

\subsubsection*{X\+SS Sanitization}

X\+SS sanitization was removed from the library in \href{https://github.com/chriso/validator.js/commit/2d5d6999541add350fb396ef02dc42ca3215049e}{\tt 2d5d6999}.

For an alternative, look at Yahoo\textquotesingle{}s \href{https://github.com/yahoo/xss-filters}{\tt xss-\/filters library}.

\subsubsection*{Extensions}

You can add your own validators using {\ttfamily validator.\+extend(name, fn)}


\begin{DoxyCode}
validator.extend('isWhitespace', function (str) \{
    return /^\(\backslash\)s+$/.test(str);
\});
\end{DoxyCode}


Note that the first argument will be automatically coerced to a string.


\begin{DoxyCode}
validator.isWhitespace('    \(\backslash\)t\(\backslash\)r\(\backslash\)n');
// => true

validator.isWhitespace('foo bar');
// => false
\end{DoxyCode}


\subsubsection*{Tests}

Tests require node v4.\+0+.


\begin{DoxyItemize}
\item {\ttfamily make test} -\/ run the test suite.
\item {\ttfamily make test V=1} -\/ run the test suite with added verbosity.
\item {\ttfamily make test T\+E\+ST=pattern} -\/ run tests that match a pattern.
\item {\ttfamily make coverage} -\/ run a coverage analysis tool.
\item {\ttfamily make lint} -\/ run a lint tool.
\end{DoxyItemize}

\subsubsection*{License (M\+IT)}


\begin{DoxyCode}
Copyright (c) 2016 Chris O'Hara <cohara87@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
\end{DoxyCode}
 