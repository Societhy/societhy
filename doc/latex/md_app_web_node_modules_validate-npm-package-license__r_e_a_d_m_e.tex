Give me a string and I\textquotesingle{}ll tell you if it\textquotesingle{}s a valid npm package license string.


\begin{DoxyCode}
var valid = require('validate-npm-package-license');
\end{DoxyCode}


S\+P\+DX license identifiers are valid license strings\+:


\begin{DoxyCode}
var assert = require('assert');
var validSPDXExpression = \{
  validForNewPackages: true,
  validForOldPackages: true,
  spdx: true
\};

assert.deepEqual(valid('MIT'), validSPDXExpression);
assert.deepEqual(valid('BSD-2-Clause'), validSPDXExpression);
assert.deepEqual(valid('Apache-2.0'), validSPDXExpression);
assert.deepEqual(valid('ISC'), validSPDXExpression);
\end{DoxyCode}
 The function will return a warning and suggestion for nearly-\/correct license identifiers\+:


\begin{DoxyCode}
assert.deepEqual(
  valid('Apache 2.0'),
  \{
    validForOldPackages: false,
    validForNewPackages: false,
    warnings: [
      'license should be ' +
      'a valid SPDX license expression (without "LicenseRef"), ' +
      '"UNLICENSED", or ' +
      '"SEE LICENSE IN <filename>"',
      'license is similar to the valid expression "Apache-2.0"'
    ]
  \}
);
\end{DoxyCode}


S\+P\+DX expressions are valid, too ...


\begin{DoxyCode}
// Simple SPDX license expression for dual licensing
assert.deepEqual(
  valid('(GPL-3.0 OR BSD-2-Clause)'),
  validSPDXExpression
);
\end{DoxyCode}


... except if they contain {\ttfamily License\+Ref}\+:


\begin{DoxyCode}
var warningAboutLicenseRef = \{
  validForOldPackages: false,
  validForNewPackages: false,
  spdx: true,
  warnings: [
    'license should be ' +
    'a valid SPDX license expression (without "LicenseRef"), ' +
    '"UNLICENSED", or ' +
    '"SEE LICENSE IN <filename>"',
  ]
\};

assert.deepEqual(
  valid('LicenseRef-Made-Up'),
  warningAboutLicenseRef
);

assert.deepEqual(
  valid('(MIT OR LicenseRef-Made-Up)'),
  warningAboutLicenseRef
);
\end{DoxyCode}


If you can\textquotesingle{}t describe your licensing terms with standardized S\+P\+DX identifiers, put the terms in a file in the package and point users there\+:


\begin{DoxyCode}
assert.deepEqual(
  valid('SEE LICENSE IN LICENSE.txt'),
  \{
    validForNewPackages: true,
    validForOldPackages: true,
    inFile: 'LICENSE.txt'
  \}
);

assert.deepEqual(
  valid('SEE LICENSE IN license.md'),
  \{
    validForNewPackages: true,
    validForOldPackages: true,
    inFile: 'license.md'
  \}
);
\end{DoxyCode}


If there aren\textquotesingle{}t any licensing terms, use {\ttfamily U\+N\+L\+I\+C\+E\+N\+S\+ED}\+:


\begin{DoxyCode}
var unlicensed = \{
  validForNewPackages: true,
  validForOldPackages: true,
  unlicensed: true
\};
assert.deepEqual(valid('UNLICENSED'), unlicensed);
assert.deepEqual(valid('UNLICENCED'), unlicensed);
\end{DoxyCode}
 