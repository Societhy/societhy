The hooks to access V8 internals—including GC and statistics—are different across the supported versions of V8, therefore N\+AN provides its own hooks that call the appropriate V8 methods.


\begin{DoxyItemize}
\item \href{#api_nan_gc_callback}{\tt {\bfseries {\ttfamily N\+A\+N\+\_\+\+G\+C\+\_\+\+C\+A\+L\+L\+B\+A\+C\+K()}}}
\item \href{#api_nan_add_gc_epilogue_callback}{\tt {\bfseries {\ttfamily Nan\+::\+Add\+G\+C\+Epilogue\+Callback()}}}
\item \href{#api_nan_remove_gc_epilogue_callback}{\tt {\bfseries {\ttfamily Nan\+::\+Remove\+G\+C\+Epilogue\+Callback()}}}
\item \href{#api_nan_add_gc_prologue_callback}{\tt {\bfseries {\ttfamily Nan\+::\+Add\+G\+C\+Prologue\+Callback()}}}
\item \href{#api_nan_remove_gc_prologue_callback}{\tt {\bfseries {\ttfamily Nan\+::\+Remove\+G\+C\+Prologue\+Callback()}}}
\item \href{#api_nan_get_heap_statistics}{\tt {\bfseries {\ttfamily Nan\+::\+Get\+Heap\+Statistics()}}}
\item \href{#api_nan_set_counter_function}{\tt {\bfseries {\ttfamily Nan\+::\+Set\+Counter\+Function()}}}
\item \href{#api_nan_set_create_histogram_function}{\tt {\bfseries {\ttfamily Nan\+::\+Set\+Create\+Histogram\+Function()}}}
\item \href{#api_nan_set_add_histogram_sample_function}{\tt {\bfseries {\ttfamily Nan\+::\+Set\+Add\+Histogram\+Sample\+Function()}}}
\item \href{#api_nan_idle_notification}{\tt {\bfseries {\ttfamily Nan\+::\+Idle\+Notification()}}}
\item \href{#api_nan_low_memory_notification}{\tt {\bfseries {\ttfamily Nan\+::\+Low\+Memory\+Notification()}}}
\item \href{#api_nan_context_disposed_notification}{\tt {\bfseries {\ttfamily Nan\+::\+Context\+Disposed\+Notification()}}}
\item \href{#api_nan_get_internal_field_pointer}{\tt {\bfseries {\ttfamily Nan\+::\+Get\+Internal\+Field\+Pointer()}}}
\item \href{#api_nan_set_internal_field_pointer}{\tt {\bfseries {\ttfamily Nan\+::\+Set\+Internal\+Field\+Pointer()}}}
\item \href{#api_nan_adjust_external_memory}{\tt {\bfseries {\ttfamily Nan\+::\+Adjust\+External\+Memory()}}}
\end{DoxyItemize}

\label{_api_nan_gc_callback}%
 \subsubsection*{N\+A\+N\+\_\+\+G\+C\+\_\+\+C\+A\+L\+L\+B\+A\+C\+K(callbackname)}

Use {\ttfamily N\+A\+N\+\_\+\+G\+C\+\_\+\+C\+A\+L\+L\+B\+A\+CK} to declare your callbacks for {\ttfamily Nan\+::\+Add\+G\+C\+Prologue\+Callback()} and {\ttfamily Nan\+::\+Add\+G\+C\+Epilogue\+Callback()}. Your new method receives the arguments {\ttfamily v8\+::\+G\+C\+Type type} and {\ttfamily v8\+::\+G\+C\+Callback\+Flags flags}.


\begin{DoxyCode}
\{c++\}
static Nan::Persistent<Function> callback;

NAN\_GC\_CALLBACK(gcPrologueCallback) \{
  v8::Local<Value> argv[] = \{ Nan::New("prologue").ToLocalChecked() \};
  Nan::MakeCallback(Nan::GetCurrentContext()->Global(), Nan::New(callback), 1, argv);
\}

NAN\_METHOD(Hook) \{
  callback.Reset(args[0].As<Function>());
  Nan::AddGCPrologueCallback(gcPrologueCallback);
  info.GetReturnValue().Set(info.Holder());
\}
\end{DoxyCode}


\label{_api_nan_add_gc_epilogue_callback}%
 \subsubsection*{Nan\+::\+Add\+G\+C\+Epilogue\+Callback()}

Signature\+:


\begin{DoxyCode}
\{c++\}
void Nan::AddGCEpilogueCallback(v8::Isolate::GCEpilogueCallback callback, v8::GCType gc\_type\_filter =
       v8::kGCTypeAll)
\end{DoxyCode}


Calls V8\textquotesingle{}s \href{https://v8docs.nodesource.com/io.js-3.0/d5/dda/classv8_1_1_isolate.html#a90d1860babc76059c62514b422f56960}{\tt {\ttfamily Add\+G\+C\+Epilogue\+Callback()}}.

\label{_api_nan_remove_gc_epilogue_callback}%
 \subsubsection*{Nan\+::\+Remove\+G\+C\+Epilogue\+Callback()}

Signature\+:


\begin{DoxyCode}
\{c++\}
void Nan::RemoveGCEpilogueCallback(v8::Isolate::GCEpilogueCallback callback)
\end{DoxyCode}


Calls V8\textquotesingle{}s \href{https://v8docs.nodesource.com/io.js-3.0/d5/dda/classv8_1_1_isolate.html#a05c60859fd4b8e96bfcd451281ed6c7c}{\tt {\ttfamily Remove\+G\+C\+Epilogue\+Callback()}}.

\label{_api_nan_add_gc_prologue_callback}%
 \subsubsection*{Nan\+::\+Add\+G\+C\+Prologue\+Callback()}

Signature\+:


\begin{DoxyCode}
\{c++\}
void Nan::AddGCPrologueCallback(v8::Isolate::GCPrologueCallback, v8::GCType gc\_type\_filter callback)
\end{DoxyCode}


Calls V8\textquotesingle{}s \href{https://v8docs.nodesource.com/io.js-3.0/d5/dda/classv8_1_1_isolate.html#ab4b87b8f9f8e5bf95eba4009357e001f}{\tt {\ttfamily Add\+G\+C\+Prologue\+Callback()}}.

\label{_api_nan_remove_gc_prologue_callback}%
 \subsubsection*{Nan\+::\+Remove\+G\+C\+Prologue\+Callback()}

Signature\+:


\begin{DoxyCode}
\{c++\}
void Nan::RemoveGCPrologueCallback(v8::Isolate::GCPrologueCallback callback)
\end{DoxyCode}


Calls V8\textquotesingle{}s \href{https://v8docs.nodesource.com/io.js-3.0/d5/dda/classv8_1_1_isolate.html#a9f6c51932811593f81ff30b949124186}{\tt {\ttfamily Remove\+G\+C\+Epilogue\+Callback()}}.

\label{_api_nan_get_heap_statistics}%
 \subsubsection*{Nan\+::\+Get\+Heap\+Statistics()}

Signature\+:


\begin{DoxyCode}
\{c++\}
void Nan::GetHeapStatistics(v8::HeapStatistics *heap\_statistics)
\end{DoxyCode}


Calls V8\textquotesingle{}s \href{https://v8docs.nodesource.com/io.js-3.0/d5/dda/classv8_1_1_isolate.html#a5593ac74687b713095c38987e5950b34}{\tt {\ttfamily Get\+Heap\+Statistics()}}.

\label{_api_nan_set_counter_function}%
 \subsubsection*{Nan\+::\+Set\+Counter\+Function()}

Signature\+:


\begin{DoxyCode}
\{c++\}
void Nan::SetCounterFunction(v8::CounterLookupCallback cb)
\end{DoxyCode}


Calls V8\textquotesingle{}s \href{https://v8docs.nodesource.com/io.js-3.0/d5/dda/classv8_1_1_isolate.html#a045d7754e62fa0ec72ae6c259b29af94}{\tt {\ttfamily Set\+Counter\+Function()}}.

\label{_api_nan_set_create_histogram_function}%
 \subsubsection*{Nan\+::\+Set\+Create\+Histogram\+Function()}

Signature\+:


\begin{DoxyCode}
\{c++\}
void Nan::SetCreateHistogramFunction(v8::CreateHistogramCallback cb) 
\end{DoxyCode}


Calls V8\textquotesingle{}s \href{https://v8docs.nodesource.com/io.js-3.0/d5/dda/classv8_1_1_isolate.html#a542d67e85089cb3f92aadf032f99e732}{\tt {\ttfamily Set\+Create\+Histogram\+Function()}}.

\label{_api_nan_set_add_histogram_sample_function}%
 \subsubsection*{Nan\+::\+Set\+Add\+Histogram\+Sample\+Function()}

Signature\+:


\begin{DoxyCode}
\{c++\}
void Nan::SetAddHistogramSampleFunction(v8::AddHistogramSampleCallback cb) 
\end{DoxyCode}


Calls V8\textquotesingle{}s \href{https://v8docs.nodesource.com/io.js-3.0/d5/dda/classv8_1_1_isolate.html#aeb420b690bc2c216882d6fdd00ddd3ea}{\tt {\ttfamily Set\+Add\+Histogram\+Sample\+Function()}}.

\label{_api_nan_idle_notification}%
 \subsubsection*{Nan\+::\+Idle\+Notification()}

Signature\+:


\begin{DoxyCode}
\{c++\}
void Nan::IdleNotification(v8::HeapStatistics *heap\_statistics)
\end{DoxyCode}


Calls V8\textquotesingle{}s \href{https://v8docs.nodesource.com/io.js-3.0/d5/dda/classv8_1_1_isolate.html#ad6a2a02657f5425ad460060652a5a118}{\tt {\ttfamily Idle\+Notification()} or {\ttfamily Idle\+Notification\+Deadline()}} depending on V8 version.

\label{_api_nan_low_memory_notification}%
 \subsubsection*{Nan\+::\+Low\+Memory\+Notification()}

Signature\+:


\begin{DoxyCode}
\{c++\}
void Nan::LowMemoryNotification() 
\end{DoxyCode}


Calls V8\textquotesingle{}s \href{https://v8docs.nodesource.com/io.js-3.0/d5/dda/classv8_1_1_isolate.html#a24647f61d6b41f69668094bdcd6ea91f}{\tt {\ttfamily Idle\+Notification()}}.

\label{_api_nan_context_disposed_notification}%
 \subsubsection*{Nan\+::\+Context\+Disposed\+Notification()}

Signature\+:


\begin{DoxyCode}
\{c++\}
void Nan::ContextDisposedNotification()
\end{DoxyCode}


Calls V8\textquotesingle{}s \href{https://v8docs.nodesource.com/io.js-3.0/d5/dda/classv8_1_1_isolate.html#ad7f5dc559866343fe6cd8db1f134d48b}{\tt {\ttfamily Context\+Disposed\+Notification()}}.

\label{_api_nan_get_internal_field_pointer}%
 \subsubsection*{Nan\+::\+Get\+Internal\+Field\+Pointer()}

Gets a pointer to the internal field with at {\ttfamily index} from a V8 {\ttfamily Object} handle.

Signature\+:


\begin{DoxyCode}
\{c++\}
void* Nan::GetInternalFieldPointer(v8::Local<v8::Object> object, int index) 
\end{DoxyCode}


Calls the Object\textquotesingle{}s \href{https://v8docs.nodesource.com/io.js-3.0/db/d85/classv8_1_1_object.html#ab3c57184263cf29963ef0017bec82281}{\tt {\ttfamily Get\+Aligned\+Pointer\+From\+Internal\+Field()} or {\ttfamily Get\+Pointer\+From\+Internal\+Field()}} depending on the version of V8.

\label{_api_nan_set_internal_field_pointer}%
 \subsubsection*{Nan\+::\+Set\+Internal\+Field\+Pointer()}

Sets the value of the internal field at {\ttfamily index} on a V8 {\ttfamily Object} handle.

Signature\+:


\begin{DoxyCode}
\{c++\}
void Nan::SetInternalFieldPointer(v8::Local<v8::Object> object, int index, void* value)
\end{DoxyCode}


Calls the Object\textquotesingle{}s \href{https://v8docs.nodesource.com/io.js-3.0/d5/dda/classv8_1_1_isolate.html#ad7f5dc559866343fe6cd8db1f134d48b}{\tt {\ttfamily Set\+Aligned\+Pointer\+In\+Internal\+Field()} or {\ttfamily Set\+Pointer\+In\+Internal\+Field()}} depending on the version of V8.

\label{_api_nan_adjust_external_memory}%
 \subsubsection*{Nan\+::\+Adjust\+External\+Memory()}

Signature\+:


\begin{DoxyCode}
\{c++\}
int Nan::AdjustExternalMemory(int bytesChange)
\end{DoxyCode}


Calls V8\textquotesingle{}s \href{https://v8docs.nodesource.com/io.js-3.0/d5/dda/classv8_1_1_isolate.html#ae1a59cac60409d3922582c4af675473e}{\tt {\ttfamily Adjust\+Amount\+Of\+External\+Allocated\+Memory()}}. 