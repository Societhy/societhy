\href{http://travis-ci.org/socketio/socket.io-parser}{\tt } \href{http://badge.fury.io/js/socket.io-parser}{\tt }

A socket.\+io encoder and decoder written in Java\+Script complying with version {\ttfamily 3} of \href{https://github.com/socketio/socket.io-protocol}{\tt socket.\+io-\/protocol}. Used by \href{https://github.com/automattic/socket.io}{\tt socket.\+io} and \href{https://github.com/automattic/socket.io-client}{\tt socket.\+io-\/client}.

\subsection*{Parser A\+PI}

socket.\+io-\/parser is the reference implementation of socket.\+io-\/protocol. Read the full A\+PI here\+: \href{https://github.com/learnboost/socket.io-protocol}{\tt socket.\+io-\/protocol}.

\subsection*{Example Usage}

\subsubsection*{Encoding and decoding a packet}


\begin{DoxyCode}
var parser = require('socket.io-parser');
var encoder = new parser.Encoder();
var packet = \{
  type: parser.EVENT,
  data: 'test-packet',
  id: 13
\};
encoder.encode(packet, function(encodedPackets) \{
  var decoder = new parser.Decoder();
  decoder.on('decoded', function(decodedPacket) \{
    // decodedPacket.type == parser.EVENT
    // decodedPacket.data == 'test-packet'
    // decodedPacket.id == 13
  \});

  for (var i = 0; i < encodedPackets.length; i++) \{
    decoder.add(encodedPackets[i]);
  \}
\});
\end{DoxyCode}


\subsubsection*{Encoding and decoding a packet with binary data}


\begin{DoxyCode}
var parser = require('socket.io-parser');
var encoder = new parser.Encoder();
var packet = \{
  type: parser.BINARY\_EVENT,
  data: \{i: new Buffer(1234), j: new Blob([new ArrayBuffer(2)])\}
  id: 15
\};
encoder.encode(packet, function(encodedPackets) \{
  var decoder = new parser.Decoder();
  decoder.on('decoded', function(decodedPacket) \{
    // decodedPacket.type == parser.BINARY\_EVENTEVENT
    // Buffer.isBuffer(decodedPacket.data.i) == true
    // Buffer.isBuffer(decodedPacket.data.j) == true
    // decodedPacket.id == 15
  \});

  for (var i = 0; i < encodedPackets.length; i++) \{
    decoder.add(encodedPackets[i]);
  \}
\});
\end{DoxyCode}
 See the test suite for more examples of how socket.\+io-\/parser is used.

\subsection*{License}

M\+IT 