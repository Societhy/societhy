<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Ecstatic [![build status](https://secure.travis-ci.org/jesusabdullah/node-ecstatic.png)](http://travis-ci.org/jesusabdullah/node-ecstatic)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Ecstatic [![build status](<a href="https://secure.travis-ci.org/jesusabdullah/node-ecstatic.png">https://secure.travis-ci.org/jesusabdullah/node-ecstatic.png</a>)](<a href="http://travis-ci.org/jesusabdullah/node-ecstatic">http://travis-ci.org/jesusabdullah/node-ecstatic</a>) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="image">
<img src="http://imgur.com/vhub5.png"/>
</div>
<p>A simple static file server middleware. Use it with a raw http server, express/connect, or flatiron/union!</p>
<h1>Examples:</h1>
<h2>express 3.0.x</h2>
<div class="fragment"><div class="line">var http = require(&#39;http&#39;);</div><div class="line">var express = require(&#39;express&#39;);</div><div class="line">var ecstatic = require(&#39;ecstatic&#39;);</div><div class="line"></div><div class="line">var app = express();</div><div class="line">app.use(ecstatic({ root: __dirname + &#39;/public&#39; }));</div><div class="line">http.createServer(app).listen(8080);</div><div class="line"></div><div class="line">console.log(&#39;Listening on :8080&#39;);</div></div><!-- fragment --><h2>union</h2>
<div class="fragment"><div class="line">var union = require(&#39;union&#39;);</div><div class="line">var ecstatic = require(&#39;ecstatic&#39;);</div><div class="line"></div><div class="line">union.createServer({</div><div class="line">  before: [</div><div class="line">    ecstatic({ root: __dirname + &#39;/public&#39; }),</div><div class="line">  ]</div><div class="line">}).listen(8080);</div><div class="line"></div><div class="line">console.log(&#39;Listening on :8080&#39;);</div></div><!-- fragment --><h2>stock http server</h2>
<div class="fragment"><div class="line">var http = require(&#39;http&#39;);</div><div class="line">var ecstatic = require(&#39;ecstatic&#39;);</div><div class="line"></div><div class="line">http.createServer(</div><div class="line">  ecstatic({ root: __dirname + &#39;/public&#39; })</div><div class="line">).listen(8080);</div><div class="line"></div><div class="line">console.log(&#39;Listening on :8080&#39;);</div></div><!-- fragment --> <h3>fall through</h3>
<p>To allow fall through to your custom routes:</p>
<div class="fragment"><div class="line">ecstatic({ root: __dirname + &#39;/public&#39;, handleError: false })</div></div><!-- fragment --><h1>API:</h1>
<h2>ecstatic(opts);</h2>
<p>Pass ecstatic an options hash, and it will return your middleware!</p>
<div class="fragment"><div class="line">var opts = {</div><div class="line">             root          : __dirname + &#39;/public&#39;,</div><div class="line">             baseDir       : &#39;/&#39;,</div><div class="line">             cache         : 3600,</div><div class="line">             showDir       : false,</div><div class="line">             autoIndex     : false,</div><div class="line">             humanReadable : true,</div><div class="line">             si            : false,</div><div class="line">             defaultExt    : &#39;html&#39;,</div><div class="line">             gzip          : false</div><div class="line">           }</div></div><!-- fragment --><p>If <code>opts</code> is a string, the string is assigned to the root folder and all other options are set to their defaults.</p>
<h3><code>opts.root</code></h3>
<p><code>opts.root</code> is the directory you want to serve up.</p>
<h3><code>opts.baseDir</code></h3>
<p><code>opts.baseDir</code> is <code>/</code> by default, but can be changed to allow your static files to be served off a specific route. For example, if <code>opts.baseDir === "blog"</code> and <code>opts.root = "./public"</code>, requests for <code>localhost:8080/blog/index.html</code> will resolve to <code>./public/index.html</code>.</p>
<h3><code>opts.cache</code></h3>
<p>Customize cache control with <code>opts.cache</code> , if it is a number then it will set max-age in seconds. Other wise it will pass through directly to cache-control. Time defaults to 3600 s (ie, 1 hour).</p>
<h3><code>opts.showDir</code></h3>
<p>Turn <b>on</b> directory listings with <code>opts.showDir === true</code>. Defaults to <b>false</b>.</p>
<h3><code>opts.autoIndex</code></h3>
<p>Serve <code>/path/index.html</code> when <code>/path/</code> is requested. Turn <b>off</b> autoIndexing with <code>opts.autoIndex === false</code>. Defaults to <b>true</b>.</p>
<h3><code>opts.humanReadable</code></h3>
<p>If autoIndexing is enabled, add human-readable file sizes. Defaults to <b>true</b>. Aliases are <code>humanreadable</code> and <code>human-readable</code>.</p>
<h3><code>opts.si</code></h3>
<p>If autoIndexing and humanReadable are enabled, print file sizes with base 1000 instead of base 1024. Name is inferred from cli options for <code>ls</code>. Aliased to <code>index</code>, the equivalent option in Apache.</p>
<h3><code>opts.defaultExt</code></h3>
<p>Turn on default file extensions with <code>opts.defaultExt</code>. If <code>opts.defaultExt</code> is true, it will default to <code>html</code>. For example if you want a request to <code>/a-file</code> to resolve to <code>./public/a-file.html</code>, set this to <code>true</code>. If you want <code>/a-file</code> to resolve to <code>./public/a-file.json</code> instead, set <code>opts.defaultExt</code> to <code>json</code>.</p>
<h3><code>opts.gzip</code></h3>
<p>Set <code>opts.gzip === true</code> in order to turn on "gzip mode," wherein ecstatic will serve <code>./public/some-file.js.gz</code> in place of <code>./public/some-file.js</code> when the gzipped version exists and ecstatic determines that the behavior is appropriate.</p>
<h3><code>opts.handleError</code></h3>
<p>Turn <b>off</b> handleErrors to allow fall-through with <code>opts.handleError === false</code>, Defaults to <b>true</b>.</p>
<h2>middleware(req, res, next);</h2>
<p>This works more or less as you'd expect.</p>
<h3>ecstatic.showDir(folder);</h3>
<p>This returns another middleware which will attempt to show a directory view. Turning on auto-indexing is roughly equivalent to adding this middleware after an ecstatic middleware with autoindexing disabled.</p>
<h3><code>ecstatic</code> command</h3>
<p>to start a standalone static http server, run <code>npm install -g ecstatic</code> and then run <code>ecstatic [dir?] [options] --port PORT</code> all options work as above, passed in <a href="https://github.com/substack/node-optimist">optimist</a> style. <code>port</code> defaults to <code>8000</code>. If a <code>dir</code> or <code>--root dir</code> argument is not passed, ecsatic will serve the current dir.</p>
<h1>Tests:</h1>
<pre class="fragment">npm test
</pre><h1>License:</h1>
<p>MIT. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
