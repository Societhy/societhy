<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: road-trip</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">road-trip </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Road Trip With Google Street View</p>
<ol type="1">
<li>map</li>
<li>directions</li>
<li>street-view-panorama</li>
<li>places-auto-complete</li>
</ol>
<p>You need a map. </p><pre class="fragment">&lt;map zoom="18" center="current-position"&gt;
&lt;/map&gt;
</pre><p>First, plan your trip. In other words, set a driving direction </p><pre class="fragment">Start: &lt;input places-auto-complete ng-model="origin" size=40 /&gt;    
End:   &lt;input places-auto-complete ng-model="destination" size=40 /&gt;
&lt;map zoom="18" center="current-position"&gt;
&lt;/map&gt;
</pre><p>Next, see your road trip plan on the map </p><pre class="fragment">Start: &lt;input places-auto-complete ng-model="origin" size=40 /&gt;    
End:   &lt;input places-auto-complete ng-model="destination" size=40 /&gt;
&lt;map zoom="18" center="current-position"&gt;
  &lt;directions origin="{{origin}}" destination="{{destination}}"&gt;&lt;/directions&gt;
&lt;/map&gt;
</pre><p>Finally, see the road with streetview </p><pre class="fragment">Start: &lt;input places-auto-complete ng-model="origin" size=40 /&gt;    
End:   &lt;input places-auto-complete ng-model="destination" size=40 /&gt;
&lt;map zoom="18" center="current-position"&gt;
  &lt;directions origin="{{origin}}" destination="{{destination}}"&gt;&lt;/directions&gt;
  &lt;street-view-panorama container="streetview"&gt;&lt;/street-view-panorama&gt; 
&lt;/map&gt;
&lt;div id="streetview"&gt;&lt;/div&gt; 
</pre><p>Well done!! Now, you are ready to see your trip with street view.</p><ol type="1">
<li>Click around the street view, then you will see your position on the map.</li>
<li>Drag your streetview icon around on the map, then you will see the street view applied accordingly.</li>
</ol>
<p>However, you want more than that. You want to drive the directions from start point to end point, but you are tired of clicking streetview. You want the map follows the driving directions automatically on every second, and you want to see the street accordingly.</p>
<p>Then, you need some coding for that. yes. some, but not much.</p>
<p>First, you need to get driving paths when driving direction is changed. </p><pre class="fragment">&lt;directions origin="{{origin}}" destination="{{destination}}" on-directions_changed="getPath(e)" &gt;&lt;/directions&gt;

$scope.directionsChanged = function() {
  $scope.paths = this.directions.routes[0].overview_path;  //save path
  $scope.map.getStreetView().setPosition($scope.paths[0]); //reset streetview
}
</pre><p>Second, when click a button, it plays automatically </p><pre class="fragment">&lt;button ng-click="play()"&gt;Play/Stop&lt;/button&gt;

$scope.play = function() {
  var svp = $scope.map.getStreetView();
  var index = 0;
  $interval(function() {
    svp.setPosition($scope.paths[index++]);
  }, 1000);
};</pre> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
