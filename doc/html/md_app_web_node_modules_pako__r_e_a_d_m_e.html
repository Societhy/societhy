<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: pako - zlib port to javascript, very fast!</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">pako - zlib port to javascript, very fast! </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://travis-ci.org/nodeca/pako"></a> <a href="https://www.npmjs.org/package/pako"></a></p>
<p><b>Why pako is cool:</b></p>
<ul>
<li>Almost as fast in modern JS engines as C implementation (see benchmarks).</li>
<li>Works in browsers, you can browserify any separate component.</li>
<li>Chunking support for big blobs.</li>
<li>Results are binary equal to well known <a href="http://www.zlib.net/">zlib</a> (now v1.2.8 ported).</li>
</ul>
<p>This project was done to understand how fast JS can be and is it necessary to develop native C modules for CPU-intensive tasks. Enjoy the result!</p>
<p><b>Famous projects, using pako:</b></p>
<ul>
<li><a href="http://browserify.org/">browserify</a> (via <a href="https://github.com/devongovett/browserify-zlib">browserify-zlib</a>)</li>
<li><a href="http://stuk.github.io/jszip/">JSZip</a></li>
<li><a href="https://github.com/nodeca/mincer">mincer</a></li>
<li><a href="https://github.com/creationix/js-git">JS-Git</a> and <a href="https://chrome.google.com/webstore/detail/tedit-development-environ/ooekdijbnbbjdfjocaiflnjgoohnblgf">Tedit</a> by <a href="https://github.com/creationix"></a></li>
</ul>
<p><b>Benchmarks:</b></p>
<div class="fragment"><div class="line">node v0.10.26, 1mb sample:</div><div class="line"></div><div class="line">   deflate-dankogai x 4.73 ops/sec ±0.82% (15 runs sampled)</div><div class="line">   deflate-gildas x 4.58 ops/sec ±2.33% (15 runs sampled)</div><div class="line">   deflate-imaya x 3.22 ops/sec ±3.95% (12 runs sampled)</div><div class="line"> ! deflate-pako x 6.99 ops/sec ±0.51% (21 runs sampled)</div><div class="line">   deflate-pako-string x 5.89 ops/sec ±0.77% (18 runs sampled)</div><div class="line">   deflate-pako-untyped x 4.39 ops/sec ±1.58% (14 runs sampled)</div><div class="line"> * deflate-zlib x 14.71 ops/sec ±4.23% (59 runs sampled)</div><div class="line">   inflate-dankogai x 32.16 ops/sec ±0.13% (56 runs sampled)</div><div class="line">   inflate-imaya x 30.35 ops/sec ±0.92% (53 runs sampled)</div><div class="line"> ! inflate-pako x 69.89 ops/sec ±1.46% (71 runs sampled)</div><div class="line">   inflate-pako-string x 19.22 ops/sec ±1.86% (49 runs sampled)</div><div class="line">   inflate-pako-untyped x 17.19 ops/sec ±0.85% (32 runs sampled)</div><div class="line"> * inflate-zlib x 70.03 ops/sec ±1.64% (81 runs sampled)</div><div class="line"></div><div class="line">node v0.11.12, 1mb sample:</div><div class="line"></div><div class="line">   deflate-dankogai x 5.60 ops/sec ±0.49% (17 runs sampled)</div><div class="line">   deflate-gildas x 5.06 ops/sec ±6.00% (16 runs sampled)</div><div class="line">   deflate-imaya x 3.52 ops/sec ±3.71% (13 runs sampled)</div><div class="line"> ! deflate-pako x 11.52 ops/sec ±0.22% (32 runs sampled)</div><div class="line">   deflate-pako-string x 9.53 ops/sec ±1.12% (27 runs sampled)</div><div class="line">   deflate-pako-untyped x 5.44 ops/sec ±0.72% (17 runs sampled)</div><div class="line"> * deflate-zlib x 14.05 ops/sec ±3.34% (63 runs sampled)</div><div class="line">   inflate-dankogai x 42.19 ops/sec ±0.09% (56 runs sampled)</div><div class="line">   inflate-imaya x 79.68 ops/sec ±1.07% (68 runs sampled)</div><div class="line"> ! inflate-pako x 97.52 ops/sec ±0.83% (80 runs sampled)</div><div class="line">   inflate-pako-string x 45.19 ops/sec ±1.69% (57 runs sampled)</div><div class="line">   inflate-pako-untyped x 24.35 ops/sec ±2.59% (40 runs sampled)</div><div class="line"> * inflate-zlib x 60.32 ops/sec ±1.36% (69 runs sampled)</div></div><!-- fragment --><p>zlib's test is partialy afferted by marshling (that make sense for inflate only). You can change deflate level to 0 in benchmark source, to investigate details. For deflate level 6 results can be considered as correct.</p>
<p><b>Install:</b></p>
<p>node.js:</p>
<div class="fragment"><div class="line">npm install pako</div></div><!-- fragment --><p>browser:</p>
<div class="fragment"><div class="line">bower install pako</div></div><!-- fragment --><h2>Example &amp; API </h2>
<p>Full docs - <a href="http://nodeca.github.io/pako/">http://nodeca.github.io/pako/</a></p>
<div class="fragment"><div class="line">var pako = require(&#39;pako&#39;);</div><div class="line"></div><div class="line">// Deflate</div><div class="line">//</div><div class="line">var input = new Uint8Array();</div><div class="line">//... fill input data here</div><div class="line">var output = pako.deflate(input);</div><div class="line"></div><div class="line">// Inflate (simple wrapper can throw exception on broken stream)</div><div class="line">//</div><div class="line">var compressed = new Uint8Array();</div><div class="line">//... fill data to uncompress here</div><div class="line">try {</div><div class="line">  var result = pako.inflate(compressed);</div><div class="line">} catch (err) {</div><div class="line">  console.log(err);</div><div class="line">}</div><div class="line"></div><div class="line">//</div><div class="line">// Alternate interface for chunking &amp; without exceptions</div><div class="line">//</div><div class="line"></div><div class="line">var inflator = new pako.Inflate();</div><div class="line"></div><div class="line">inflator.push(chunk1, false);</div><div class="line">inflator.push(chunk2, false);</div><div class="line">...</div><div class="line">inflator.push(chunkN, true); // true -&gt; last chunk</div><div class="line"></div><div class="line">if (inflator.err) {</div><div class="line">  console.log(inflator.msg);</div><div class="line">}</div><div class="line"></div><div class="line">var output = inflator.result;</div></div><!-- fragment --><p>Sometime you can wish to work with strings. For example, to send big objects as json to server. Pako detects input data type. You can force output to be string with option `{ to: 'string' }`.</p>
<div class="fragment"><div class="line">var pako = require(&#39;pako&#39;);</div><div class="line"></div><div class="line">var test = { my: &#39;super&#39;, puper: [456, 567], awesome: &#39;pako&#39; };</div><div class="line"></div><div class="line">var binaryString = pako.deflate(JSON.stringify(test), { to: &#39;string&#39; });</div><div class="line"></div><div class="line">//</div><div class="line">// Here you can do base64 encode, make xhr requests and so on.</div><div class="line">//</div><div class="line"></div><div class="line">var restored = JSON.parse(pako.inflate(binaryString, { to: &#39;string&#39; }));</div></div><!-- fragment --><h2>Notes </h2>
<p>Pako does not contain some specific zlib functions:</p>
<ul>
<li><b>deflate</b> - methods <code>deflateCopy</code>, <code>deflateBound</code>, <code>deflateParams</code>, <code>deflatePending</code>, <code>deflatePrime</code>, <code>deflateTune</code>.</li>
<li><b>inflate</b> - methods <code>inflateCopy</code>, <code>inflateMark</code>, <code>inflatePrime</code>, <code>inflateGetDictionary</code>, <code>inflateSync</code>, <code>inflateSyncPoint</code>, <code>inflateUndermine</code>.</li>
<li>High level inflate/deflate wrappers (classes) may not support some flush modes. Those should work: Z_NO_FLUSH, Z_FINISH, Z_SYNC_FLUSH.</li>
</ul>
<h2>Authors </h2>
<ul>
<li>Andrey Tupitsin <a href="https://github.com/andr83"></a></li>
<li>Vitaly Puzrin <a href="https://github.com/puzrin"></a></li>
</ul>
<p>Personal thanks to:</p>
<ul>
<li>Vyacheslav Egorov (<a href="https://github.com/mraleph"></a>) for his awesome tutorials about optimising JS code for v8, <a href="http://mrale.ph/irhydra/">IRHydra</a> tool and his advices.</li>
<li>David Duponchel (<a href="https://github.com/dduponchel"></a>) for help with testing.</li>
</ul>
<h2>License </h2>
<p>MIT </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
