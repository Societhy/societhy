<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: ngStorage</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">ngStorage </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://travis-ci.org/gsklee/ngStorage"></a> <a href="https://david-dm.org/gsklee/ngStorage"></a> <a href="https://david-dm.org/gsklee/ngStorage#info=devDependencies"></a></p>
<p>An <a href="https://github.com/angular/angular.js">AngularJS</a> module that makes Web Storage working in the <em>Angular Way</em>. Contains two services: <code>$localStorage</code> and <code>$sessionStorage</code>.</p>
<h3>Differences with Other Implementations</h3>
<ul>
<li><b>No Getter 'n' Setter Bullshit</b> - Right from AngularJS homepage: "Unlike other frameworks, there is no need to [...] wrap the model in accessors methods. Just plain old JavaScript here." Now you can enjoy the same benefit while achieving data persistence with Web Storage.</li>
<li><b>sessionStorage</b> - We got this often-overlooked buddy covered.</li>
<li><b>Cleanly-Authored Code</b> - Written in the <em>Angular Way</em>, well-structured with testability in mind.</li>
<li><b>No Cookie Fallback</b> - With Web Storage being <a href="http://caniuse.com/namevalue-storage">readily available</a> in <a href="http://docs.angularjs.org/misc/faq#canidownloadthesourcebuildandhosttheangularjsenvironmentlocally">all the browsers AngularJS officially supports</a>, such fallback is largely redundant.</li>
</ul>
<h1>Install </h1>
<h3>Bower</h3>
<div class="fragment"><div class="line">bower install ngstorage</div></div><!-- fragment --><p><em>NOTE:</em> We are <code>ngstorage</code> and <em>NOT</em> <code>ngStorage</code>. The casing is important!</p>
<p>### NPM </p><div class="fragment"><div class="line">npm install ngstorage</div></div><!-- fragment --><p><em>NOTE:</em> We are <code>ngstorage</code> and <em>NOT</em> <code>ngStorage</code>. The casing is important!</p>
<h3>nuget</h3>
<div class="fragment"><div class="line">Install-Package gsklee.ngStorage</div></div><!-- fragment --><p>Or search for <code>Angular ngStorage</code> in the nuget package manager. <a href="https://www.nuget.org/packages/gsklee.ngStorage">https://www.nuget.org/packages/gsklee.ngStorage</a></p>
<h1>CDN </h1>
<h3>cdnjs</h3>
<p>cdnjs now hosts ngStorage at <a href="https://cdnjs.com/libraries/ngStorage">https://cdnjs.com/libraries/ngStorage</a></p>
<p>To use it</p>
<div class="fragment"><div class="line">&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/ngStorage/0.3.6/ngStorage.min.js&quot;&gt;&lt;/script&gt;</div></div><!-- fragment --><h3>jsDelivr</h3>
<p>jsDelivr hosts ngStorage at <a href="http://www.jsdelivr.com/#!ngstorage">http://www.jsdelivr.com/#!ngstorage</a></p>
<p>To use is</p>
<div class="fragment"><div class="line">&lt;script src=&quot;https://cdn.jsdelivr.net/ngstorage/0.3.6/ngStorage.min.js&quot;&gt;&lt;/script&gt;</div></div><!-- fragment --><h1>Usage </h1>
<h3>Require ngStorage and Inject the Services</h3>
<div class="fragment"><div class="line">angular.module(&#39;app&#39;, [</div><div class="line">    &#39;ngStorage&#39;</div><div class="line">]).controller(&#39;Ctrl&#39;, function(</div><div class="line">    $scope,</div><div class="line">    $localStorage,</div><div class="line">    $sessionStorage</div><div class="line">){});</div></div><!-- fragment --><h3>Read and Write | <a href="http://plnkr.co/edit/3vfRkvG7R9DgQxtWbGHz?p=preview">Demo</a></h3>
<p>Pass <code>$localStorage</code> (or <code>$sessionStorage</code>) by reference to a hook under <code>$scope</code> in plain ol' JavaScript:</p>
<div class="fragment"><div class="line">$scope.$storage = $localStorage;</div></div><!-- fragment --><p>And use it like you-already-know:</p>
<div class="fragment"><div class="line">&lt;body ng-controller=&quot;Ctrl&quot;&gt;</div><div class="line">    &lt;button ng-click=&quot;$storage.counter = $storage.counter + 1&quot;&gt;{{$storage.counter}}&lt;/button&gt;</div><div class="line">&lt;/body&gt;</div></div><!-- fragment --><blockquote class="doxtable">
<p>Optionally, specify default values using the <code>$default()</code> method:</p>
<div class="fragment"><div class="line">$scope.$storage = $localStorage.$default({</div><div class="line">    counter: 42</div><div class="line">});</div></div><!-- fragment --> </blockquote>
<p>With this setup, changes will be automatically sync'd between <code>$scope.$storage</code>, <code>$localStorage</code>, and localStorage - even across different browser tabs!</p>
<h3>Read and Write Alternative (Not Recommended) | <a href="http://plnkr.co/edit/9ZmkzRkYzS3iZkG8J5IK?p=preview">Demo</a></h3>
<p>If you're not fond of the presence of <code>$scope.$storage</code>, you can always use watchers:</p>
<div class="fragment"><div class="line">$scope.counter = $localStorage.counter || 42;</div><div class="line"></div><div class="line">$scope.$watch(&#39;counter&#39;, function() {</div><div class="line">    $localStorage.counter = $scope.counter;</div><div class="line">});</div><div class="line"></div><div class="line">$scope.$watch(function() {</div><div class="line">    return angular.toJson($localStorage);</div><div class="line">}, function() {</div><div class="line">    $scope.counter = $localStorage.counter;</div><div class="line">});</div></div><!-- fragment --><p>This, however, is not the way ngStorage is designed to be used with. As can be easily seen by comparing the demos, this approach is way more verbose, and may have potential performance implications as the values being watched quickly grow.</p>
<h3>Delete | <a href="http://plnkr.co/edit/o4w3VGqmp8opfrWzvsJy?p=preview">Demo</a></h3>
<p>Plain ol' JavaScript again, what else could you better expect?</p>
<div class="fragment"><div class="line">// Both will do</div><div class="line">delete $scope.$storage.counter;</div><div class="line">delete $localStorage.counter;</div></div><!-- fragment --><p>This will delete the corresponding entry inside the Web Storage.</p>
<h3>Delete Everything | <a href="http://plnkr.co/edit/YiG28KTFdkeFXskolZqs?p=preview">Demo</a></h3>
<p>If you wish to clear the Storage in one go, use the <code>$reset()</code> method:</p>
<p>```javascript $localStorage.$reset(); ````</p>
<blockquote class="doxtable">
<p>Optionally, pass in an object you'd like the Storage to reset to:</p>
<div class="fragment"><div class="line">$localStorage.$reset({</div><div class="line">    counter: 42</div><div class="line">});</div></div><!-- fragment --> </blockquote>
<h3>Permitted Values | <a href="http://plnkr.co/edit/n0acYLdhk3AeZmPOGY9Z?p=preview">Demo</a></h3>
<p>You can store anything except those <a href="http://www.json.org/js.html">not supported by JSON</a>:</p>
<ul>
<li><code>Infinity</code>, <code>NaN</code> - Will be replaced with <code>null</code>.</li>
<li><code>undefined</code>, Function - Will be removed.</li>
</ul>
<h3>Usage from config phase</h3>
<p>To read and set values during the Angular config phase use the <code>.get/.set</code> functions provided by the provider.</p>
<div class="fragment"><div class="line">var app = angular.module(&#39;app&#39;, [&#39;ngStorage&#39;])</div><div class="line">.config([&#39;$localStorageProvider&#39;,</div><div class="line">    function ($localStorageProvider) {</div><div class="line">        $localStorageProvider.get(&#39;MyKey&#39;);</div><div class="line"></div><div class="line">        $localStorageProvider.set(&#39;MyKey&#39;, { k: &#39;value&#39; });</div><div class="line">    }]);</div></div><!-- fragment --><h3>Prefix</h3>
<p>To change the prefix used by ngStorage use the provider function <code>setKeyPrefix</code> during the config phase.</p>
<div class="fragment"><div class="line">var app = angular.module(&#39;app&#39;, [&#39;ngStorage&#39;])</div><div class="line">.config([&#39;$localStorageProvider&#39;,</div><div class="line">    function ($localStorageProvider) {</div><div class="line">        $localStorageProvider.setKeyPrefix(&#39;NewPrefix&#39;);</div><div class="line">    }])</div></div><!-- fragment --><h3>Custom serialization</h3>
<p>To change how ngStorage serializes and deserializes values (uses JSON by default) you can use your own functions.</p>
<div class="fragment"><div class="line">angular.module(&#39;app&#39;, [&#39;ngStorage&#39;])</div><div class="line">.config([&#39;$localStorageProvider&#39;, </div><div class="line">  function ($localStorageProvider) {</div><div class="line">    var mySerializer = function (value) {</div><div class="line">      // Do what you want with the value.</div><div class="line">      return value;</div><div class="line">    };</div><div class="line"></div><div class="line">    var myDeserializer = function (value) {</div><div class="line">      return value;</div><div class="line">    };</div><div class="line"></div><div class="line">    $localStorageProvider.setSerializer(mySerializer);</div><div class="line">    $localStorageProvider.setDeserializer(myDeserializer);</div><div class="line">  }];)</div></div><!-- fragment --><h3>Minification</h3>
<p>Just run <code>$ npm install</code> to install dependencies. Then run <code>$ grunt</code> for minification.</p>
<h3>Hints</h3>
<h4>Watch the watch</h4>
<p>ngStorage internally uses an Angular watch to monitor changes to the <code>$storage</code>/<code>$localStorage</code> objects. That means that a digest cycle is required to persist your new values into the browser local storage. Normally this is not a problem, but, for example, if you launch a new window after saving a value...</p>
<div class="fragment"><div class="line">$scope.$storage.school = theSchool;</div><div class="line">$log.debug(&quot;launching &quot; + url);</div><div class="line">var myWindow = $window.open(&quot;&quot;, &quot;_self&quot;);</div><div class="line">myWindow.document.write(response.data);</div></div><!-- fragment --><p>the new values will not reliably be saved into the browser local storage. Allow a digest cycle to occur by using a zero-value <code>$timeout</code> as:</p>
<div class="fragment"><div class="line">$scope.$storage.school = theSchool;</div><div class="line">$log.debug(&quot;launching and saving the new value&quot; + url);</div><div class="line">$timeout(function(){</div><div class="line">   var myWindow = $window.open(&quot;&quot;, &quot;_self&quot;);</div><div class="line">   myWindow.document.write(response.data);</div><div class="line">});</div></div><!-- fragment --><p>or better using <code>$scope.$evalAsync</code> as:</p>
<div class="fragment"><div class="line">$scope.$storage.school = theSchool;</div><div class="line">$log.debug(&quot;launching and saving the new value&quot; + url);</div><div class="line">$scope.$evalAsync(function(){</div><div class="line">   var myWindow = $window.open(&quot;&quot;, &quot;_self&quot;);</div><div class="line">   myWindow.document.write(response.data);</div><div class="line">});</div></div><!-- fragment --><p>And your new values will be persisted correctly.</p>
<h1>Todos </h1>
<ul>
<li>ngdoc Documentation</li>
<li>Namespace Support</li>
<li>Unit Tests</li>
<li>Grunt Tasks</li>
</ul>
<p>Any contribution will be appreciated. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
